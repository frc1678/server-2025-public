#!/usr/bin/env python3
import pytest
from unittest.mock import patch
from calculations import obj_team
from server import Server
from utils import dict_near_in, find_dict_near_index


@pytest.mark.clouddb
class TestOBJTeamCalc:
    def setup_method(self, method):
        with patch("doozernet_communicator.check_model_availability", return_value=None), patch(
            "utils.get_match_schedule", return_value=[]
        ), patch("utils.get_team_list", return_value=[]):
            self.test_server = Server()
        self.test_calc = obj_team.OBJTeamCalc(self.test_server)

    def test___init__(self):
        """Test if attributes are set correctly"""
        assert self.test_calc.watched_collections == ["obj_tim", "subj_tim"]
        assert self.test_calc.server == self.test_server

    def test_averages(self):
        """Tests calculate_averages function from src/calculations/obj_team.py"""
        tims = [
            {
                "team_number": "254",
                "match_number": 3,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "auto_net": 0,
                "auto_processor": 1,
                "auto_coral_L1": 1,
                "auto_coral_L2": 1,
                "auto_coral_L3": 0,
                "auto_coral_L4": 1,
                "auto_fail_net": 0,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 1,
                "auto_fail_coral_L2": 0,
                "auto_fail_coral_L3": 0,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 1,
                "auto_intake_reef": 0,
                "tele_net": 1,
                "tele_processor": 0,
                "tele_coral_L1": 0,
                "tele_coral_L2": 1,
                "tele_coral_L3": 1,
                "tele_coral_L4": 10,
                "tele_fail_net": 1,
                "tele_fail_processor": 0,
                "tele_fail_coral_L1": 0,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 0,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 1,
                "tele_intake_ground_algae": 1,
                "tele_intake_reef": 1,
                "auto_total_intakes_ground": 2,
                "auto_total_intakes": 3,
                "tele_total_intakes_ground": 15,
                "tele_total_intakes": 4,
                "auto_total_pieces": 4,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 26,
                "tele_incap": 73,
                "auto_total_points": 7,
                "tele_total_points": 5,
                "endgame_total_points": 4,
                "total_points": 5,
                "auto_drop_coral": 0,
                "auto_drop_algae": 0,
                "tele_drop_coral": 0,
                "tele_drop_algae": 9,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 6,
                "time_from_ground_to_reef": 8,
                "time_from_ground_to_net": 8,
                "time_from_ground_to_processor": 34,
                "time_from_reef_to_net": 4,
                "time_from_reef_to_processor": 8,
                "cage_level": "S",
                "cage_fail": False,
                "start_position": "1",
                "has_preload": True,
                "expected_cycle_time": 9.5,
                "expected_cycles": 21,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 2,
                "total_failed_pieces": 3,
                "tele_intake_poach": 0,
            },
            {
                "team_number": "254",
                "match_number": 3,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "auto_net": 0,
                "auto_processor": 1,
                "auto_coral_L1": 2,
                "auto_coral_L2": 0,
                "auto_coral_L3": 0,
                "auto_coral_L4": 1,
                "auto_fail_net": 0,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 2,
                "auto_fail_coral_L2": 0,
                "auto_fail_coral_L3": 0,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 2,
                "auto_intake_reef": 0,
                "tele_net": 1,
                "tele_processor": 0,
                "tele_coral_L1": 0,
                "tele_coral_L2": 4,
                "tele_coral_L3": 1,
                "tele_coral_L4": 0,
                "tele_fail_net": 1,
                "tele_fail_processor": 9,
                "tele_fail_coral_L1": 8,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 0,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 1,
                "tele_intake_ground_algae": 1,
                "tele_intake_reef": 1,
                "auto_total_intakes_ground": 6,
                "auto_total_intakes": 3,
                "tele_total_intakes_ground": 2,
                "tele_total_intakes": 4,
                "auto_total_pieces": 4,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 5,
                "tele_incap": 11,
                "auto_total_points": 7,
                "tele_total_points": 5,
                "endgame_total_points": 2,
                "total_points": 5,
                "auto_drop_coral": 0,
                "auto_drop_algae": 1,
                "tele_drop_coral": 0,
                "tele_drop_algae": 0,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 6,
                "time_from_ground_to_reef": 8,
                "time_from_ground_to_net": 8,
                "time_from_ground_to_processor": 6,
                "time_from_reef_to_net": 4,
                "time_from_reef_to_processor": 8,
                "cage_level": "D",
                "cage_fail": False,
                "start_position": "2",
                "has_preload": True,
                "expected_cycle_time": 10,
                "expected_cycles": 20,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 3,
                "total_failed_pieces": 3,
                "tele_intake_poach": 0,
            },
            {
                "team_number": "254",
                "match_number": 3,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "auto_net": 0,
                "auto_processor": 1,
                "auto_coral_L1": 1,
                "auto_coral_L2": 0,
                "auto_coral_L3": 0,
                "auto_coral_L4": 4,
                "auto_fail_net": 0,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 1,
                "auto_fail_coral_L2": 0,
                "auto_fail_coral_L3": 0,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 1,
                "auto_intake_reef": 4,
                "tele_net": 1,
                "tele_processor": 0,
                "tele_coral_L1": 0,
                "tele_coral_L2": 1,
                "tele_coral_L3": 1,
                "tele_coral_L4": 9,
                "tele_fail_net": 1,
                "tele_fail_processor": 0,
                "tele_fail_coral_L1": 0,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 0,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 1,
                "tele_intake_ground_algae": 10,
                "tele_intake_reef": 1,
                "auto_total_intakes_ground": 2,
                "auto_total_intakes": 3,
                "tele_total_intakes_ground": 2,
                "tele_total_intakes": 4,
                "auto_total_pieces": 4,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 7,
                "tele_incap": 16,
                "auto_total_points": 8,
                "tele_total_points": 5,
                "endgame_total_points": 4,
                "total_points": 5,
                "auto_drop_coral": 0,
                "auto_drop_algae": 0,
                "tele_drop_coral": 5,
                "tele_drop_algae": 0,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 6,
                "time_from_ground_to_reef": 10,
                "time_from_ground_to_net": 8,
                "time_from_ground_to_processor": 6,
                "time_from_reef_to_net": 7,
                "time_from_reef_to_processor": 8,
                "cage_level": "S",
                "cage_fail": False,
                "start_position": "3",
                "has_preload": True,
                "expected_cycle_time": 9.5,
                "expected_cycles": 20,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 2,
                "total_failed_pieces": 3,
                "tele_intake_poach": 0,
            },
            {
                "team_number": "254",
                "match_number": 3,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "auto_net": 0,
                "auto_processor": 1,
                "auto_coral_L1": 1,
                "auto_coral_L2": 0,
                "auto_coral_L3": 6,
                "auto_coral_L4": 1,
                "auto_fail_net": 0,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 1,
                "auto_fail_coral_L2": 9,
                "auto_fail_coral_L3": 0,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 1,
                "auto_intake_reef": 21,
                "tele_net": 1,
                "tele_processor": 0,
                "tele_coral_L1": 0,
                "tele_coral_L2": 1,
                "tele_coral_L3": 1,
                "tele_coral_L4": 3,
                "tele_fail_net": 1,
                "tele_fail_processor": 0,
                "tele_fail_coral_L1": 0,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 7,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 1,
                "tele_intake_ground_algae": 1,
                "tele_intake_reef": 1,
                "auto_total_intakes_ground": 2,
                "auto_total_intakes": 8,
                "tele_total_intakes_ground": 2,
                "tele_total_intakes": 4,
                "auto_total_pieces": 12,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 7,
                "tele_incap": 0,
                "auto_total_points": 7,
                "tele_total_points": 5,
                "endgame_total_points": 4,
                "total_points": 5,
                "auto_drop_coral": 0,
                "auto_drop_algae": 9,
                "tele_drop_coral": 0,
                "tele_drop_algae": 0,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 12,
                "time_from_ground_to_reef": 11,
                "time_from_ground_to_net": 11,
                "time_from_ground_to_processor": 15,
                "time_from_reef_to_net": 4,
                "time_from_reef_to_processor": 8,
                "cage_level": "N",
                "cage_fail": True,
                "start_position": "2",
                "has_preload": True,
                "expected_cycle_time": 9.5,
                "expected_cycles": 20,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 2,
                "total_failed_pieces": 3,
                "tele_intake_poach": 0,
            },
            {
                "team_number": "254",
                "match_number": 3,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "auto_net": 0,
                "auto_processor": 1,
                "auto_coral_L1": 1,
                "auto_coral_L2": 0,
                "auto_coral_L3": 0,
                "auto_coral_L4": 1,
                "auto_fail_net": 0,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 1,
                "auto_fail_coral_L2": 0,
                "auto_fail_coral_L3": 0,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 1,
                "auto_intake_reef": 0,
                "tele_net": 1,
                "tele_processor": 0,
                "tele_coral_L1": 0,
                "tele_coral_L2": 1,
                "tele_coral_L3": 1,
                "tele_coral_L4": 0,
                "tele_fail_net": 1,
                "tele_fail_processor": 0,
                "tele_fail_coral_L1": 0,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 0,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 1,
                "tele_intake_ground_algae": 1,
                "tele_intake_reef": 1,
                "auto_total_intakes_ground": 2,
                "auto_total_intakes": 3,
                "tele_total_intakes_ground": 2,
                "tele_total_intakes": 4,
                "auto_total_pieces": 4,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 7,
                "tele_incap": 73,
                "auto_total_points": 7,
                "tele_total_points": 5,
                "endgame_total_points": 4,
                "total_points": 5,
                "auto_drop_coral": 0,
                "auto_drop_algae": 0,
                "tele_drop_coral": 0,
                "tele_drop_algae": 0,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 6,
                "time_from_ground_to_reef": 8,
                "time_from_ground_to_net": 8,
                "time_from_ground_to_processor": 6,
                "time_from_reef_to_net": 4,
                "time_from_reef_to_processor": 8,
                "cage_level": "S",
                "cage_fail": False,
                "start_position": "2",
                "has_preload": True,
                "expected_cycle_time": 9.5,
                "expected_cycles": 20,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 2,
                "total_failed_pieces": 3,
                "tele_intake_poach": 0,
            },
        ]

        expected_output = {
            "auto_avg_coral_L1": 1.2,
            "auto_avg_coral_L2": 0.2,
            "auto_avg_coral_L3": 1.2,
            "auto_avg_coral_L4": 1.6,
            "auto_avg_drop_algae": 2.0,
            "auto_avg_drop_coral": 0.0,
            "auto_avg_fail_coral_L1": 1.2,
            "auto_avg_fail_coral_L2": 1.8,
            "auto_avg_fail_coral_L3": 0.0,
            "auto_avg_fail_coral_L4": 1.0,
            "auto_avg_fail_net": 0.0,
            "auto_avg_fail_processor": 1.0,
            "auto_avg_intake_ground_algae": 2.0,
            "auto_avg_intake_ground_coral": 0.0,
            "auto_avg_intake_reef": 5.0,
            "auto_avg_intake_station": 1.2,
            "auto_avg_net": 0.0,
            "auto_avg_processor": 1.0,
            "auto_avg_total_failed_pieces": 1.0,
            "auto_avg_total_intakes": 4.0,
            "auto_avg_total_pieces": 5.6,
            "auto_avg_total_points": 7.2,
            "auto_avg_intake_algae": 7.0,
            "auto_avg_intake_coral": 1.2,
            "avg_expected_cycle_time": 9.6,
            "avg_expected_cycles": 20.2,
            "avg_total_failed_pieces": 3.0,
            "avg_total_intakes": 10.4,
            "avg_total_pieces": 7.0,
            "avg_total_points": 5.0,
            "endgame_avg_total_points": 3.6,
            "lfm_auto_avg_coral_L1": 1.2,
            "lfm_auto_avg_coral_L2": 0.2,
            "lfm_auto_avg_coral_L3": 1.2,
            "lfm_auto_avg_coral_L4": 1.6,
            "lfm_auto_avg_drop_algae": 2.0,
            "lfm_auto_avg_drop_coral": 0.0,
            "lfm_auto_avg_fail_coral_L1": 1.2,
            "lfm_auto_avg_fail_coral_L2": 1.8,
            "lfm_auto_avg_fail_coral_L3": 0.0,
            "lfm_auto_avg_fail_coral_L4": 1.0,
            "lfm_auto_avg_fail_net": 0.0,
            "lfm_auto_avg_fail_processor": 1.0,
            "lfm_auto_avg_intake_ground_algae": 2.0,
            "lfm_auto_avg_intake_ground_coral": 0.0,
            "lfm_auto_avg_intake_reef": 5.0,
            "lfm_auto_avg_intake_station": 1.2,
            "lfm_auto_avg_net": 0.0,
            "lfm_auto_avg_processor": 1.0,
            "lfm_auto_avg_total_failed_pieces": 1.0,
            "lfm_auto_avg_total_intakes": 4.0,
            "lfm_auto_avg_total_pieces": 5.6,
            "lfm_auto_avg_total_points": 7.2,
            "lfm_avg_expected_cycle_time": 9.6,
            "lfm_avg_expected_cycles": 20.2,
            "lfm_avg_total_failed_pieces": 3.0,
            "lfm_avg_total_intakes": 10.4,
            "lfm_avg_total_pieces": 7.0,
            "lfm_avg_total_points": 5.0,
            "lfm_endgame_avg_total_points": 3.6,
            "lfm_tele_avg_coral_L1": 0.0,
            "lfm_tele_avg_coral_L2": 1.6,
            "lfm_tele_avg_coral_L3": 1.0,
            "lfm_tele_avg_coral_L4": 4.4,
            "lfm_tele_avg_fail_coral_L1": 1.6,
            "lfm_tele_avg_fail_coral_L2": 1.0,
            "lfm_tele_avg_fail_coral_L3": 1.0,
            "lfm_tele_avg_fail_coral_L4": 1.4,
            "lfm_tele_avg_fail_net": 1.0,
            "lfm_tele_avg_fail_processor": 1.8,
            "lfm_tele_avg_incap": 34.6,
            "lfm_tele_avg_intake_ground_algae": 2.8,
            "lfm_tele_avg_intake_ground_coral": 1.0,
            "lfm_tele_avg_intake_reef": 1.0,
            "lfm_tele_avg_intake_station": 1.0,
            "lfm_tele_avg_net": 1.0,
            "lfm_tele_avg_processor": 0.0,
            "lfm_tele_avg_total_failed_pieces": 2.2,
            "lfm_tele_avg_total_intakes": 4.0,
            "lfm_tele_avg_total_pieces": 3.0,
            "lfm_tele_avg_total_points": 5.0,
            "tele_avg_coral_L1": 0.0,
            "tele_avg_coral_L2": 1.6,
            "tele_avg_coral_L3": 1.0,
            "tele_avg_coral_L4": 4.4,
            "tele_avg_fail_coral_L1": 1.6,
            "tele_avg_fail_coral_L2": 1.0,
            "tele_avg_fail_coral_L3": 1.0,
            "tele_avg_fail_coral_L4": 1.4,
            "tele_avg_fail_net": 1.0,
            "tele_avg_fail_processor": 1.8,
            "tele_avg_incap": 34.6,
            "tele_avg_intake_algae": 3.8,
            "tele_avg_intake_coral": 2.0,
            "tele_avg_intake_ground_algae": 2.8,
            "tele_avg_intake_ground_coral": 1.0,
            "tele_avg_intake_reef": 1.0,
            "tele_avg_intake_station": 1.0,
            "tele_avg_net": 1.0,
            "tele_avg_processor": 0.0,
            "tele_avg_total_failed_pieces": 2.2,
            "tele_avg_total_intakes": 4.0,
            "tele_avg_total_pieces": 3.0,
            "tele_avg_total_points": 5.0,
            "tele_avg_drop_algae": 1.8,
            "tele_avg_drop_coral": 1.0,
            "lfm_tele_avg_drop_algae": 1.8,
            "lfm_tele_avg_drop_coral": 1.0,
            "lfm_tele_avg_intake_poach": 0.0,
            "lfm_tele_avg_total_nonzero_pieces": 3.0,
            "tele_avg_intake_poach": 0.0,
            "tele_avg_total_nonzero_pieces": 3.0,
        }
        lfm_tims = [tim for tim in tims if tim["match_number"] > 1]
        action_counts = self.test_calc.get_action_counts(tims)
        lfm_action_counts = self.test_calc.get_action_counts(lfm_tims)
        assert (
            self.test_calc.calculate_averages(action_counts, lfm_action_counts) == expected_output
        )

    def test_standard_deviations(self):
        """Tests calculate_standard_deviations function from src/calculations/obj_team.py"""
        tims = [
            {
                "team_number": "254",
                "match_number": 3,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "auto_net": 0,
                "auto_processor": 1,
                "auto_coral_L1": 1,
                "auto_coral_L2": 1,
                "auto_coral_L3": 0,
                "auto_coral_L4": 1,
                "auto_fail_net": 0,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 1,
                "auto_fail_coral_L2": 0,
                "auto_fail_coral_L3": 0,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 1,
                "auto_intake_reef": 0,
                "tele_net": 1,
                "tele_processor": 0,
                "tele_coral_L1": 0,
                "tele_coral_L2": 1,
                "tele_coral_L3": 1,
                "tele_coral_L4": 10,
                "tele_fail_net": 1,
                "tele_fail_processor": 0,
                "tele_fail_coral_L1": 0,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 0,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 1,
                "tele_intake_ground_algae": 1,
                "tele_intake_reef": 1,
                "auto_total_intakes_ground": 2,
                "auto_total_intakes": 3,
                "tele_total_intakes_ground": 15,
                "tele_total_intakes": 4,
                "auto_total_pieces": 4,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 26,
                "tele_incap": 73,
                "auto_total_points": 7,
                "tele_total_points": 5,
                "endgame_total_points": 4,
                "total_points": 5,
                "auto_drop_coral": 0,
                "auto_drop_algae": 0,
                "tele_drop_coral": 0,
                "tele_drop_algae": 9,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 6,
                "time_from_ground_to_reef": 8,
                "time_from_ground_to_net": 8,
                "time_from_ground_to_processor": 34,
                "time_from_reef_to_net": 4,
                "time_from_reef_to_processor": 8,
                "cage_level": "S",
                "cage_fail": False,
                "start_position": "1",
                "has_preload": True,
                "expected_cycle_time": 9.5,
                "expected_cycles": 21,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 2,
                "total_failed_pieces": 3,
                "tele_intake_poach": 0,
            },
            {
                "team_number": "254",
                "match_number": 3,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "auto_net": 0,
                "auto_processor": 1,
                "auto_coral_L1": 2,
                "auto_coral_L2": 0,
                "auto_coral_L3": 0,
                "auto_coral_L4": 1,
                "auto_fail_net": 0,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 2,
                "auto_fail_coral_L2": 0,
                "auto_fail_coral_L3": 0,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 2,
                "auto_intake_reef": 0,
                "tele_net": 1,
                "tele_processor": 0,
                "tele_coral_L1": 0,
                "tele_coral_L2": 4,
                "tele_coral_L3": 1,
                "tele_coral_L4": 0,
                "tele_fail_net": 1,
                "tele_fail_processor": 9,
                "tele_fail_coral_L1": 8,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 0,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 1,
                "tele_intake_ground_algae": 1,
                "tele_intake_reef": 1,
                "auto_total_intakes_ground": 6,
                "auto_total_intakes": 3,
                "tele_total_intakes_ground": 2,
                "tele_total_intakes": 4,
                "auto_total_pieces": 4,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 5,
                "tele_incap": 11,
                "auto_total_points": 7,
                "tele_total_points": 5,
                "endgame_total_points": 2,
                "total_points": 5,
                "auto_drop_coral": 0,
                "auto_drop_algae": 1,
                "tele_drop_coral": 0,
                "tele_drop_algae": 0,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 6,
                "time_from_ground_to_reef": 8,
                "time_from_ground_to_net": 8,
                "time_from_ground_to_processor": 6,
                "time_from_reef_to_net": 4,
                "time_from_reef_to_processor": 8,
                "cage_level": "D",
                "cage_fail": False,
                "start_position": "2",
                "has_preload": True,
                "expected_cycle_time": 10,
                "expected_cycles": 20,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 3,
                "total_failed_pieces": 3,
                "tele_intake_poach": 0,
            },
            {
                "team_number": "254",
                "match_number": 3,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "auto_net": 0,
                "auto_processor": 1,
                "auto_coral_L1": 1,
                "auto_coral_L2": 0,
                "auto_coral_L3": 0,
                "auto_coral_L4": 4,
                "auto_fail_net": 0,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 1,
                "auto_fail_coral_L2": 0,
                "auto_fail_coral_L3": 0,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 1,
                "auto_intake_reef": 4,
                "tele_net": 1,
                "tele_processor": 0,
                "tele_coral_L1": 0,
                "tele_coral_L2": 1,
                "tele_coral_L3": 1,
                "tele_coral_L4": 9,
                "tele_fail_net": 1,
                "tele_fail_processor": 0,
                "tele_fail_coral_L1": 0,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 0,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 1,
                "tele_intake_ground_algae": 10,
                "tele_intake_reef": 1,
                "auto_total_intakes_ground": 2,
                "auto_total_intakes": 3,
                "tele_total_intakes_ground": 2,
                "tele_total_intakes": 4,
                "auto_total_pieces": 4,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 7,
                "tele_incap": 16,
                "auto_total_points": 8,
                "tele_total_points": 5,
                "endgame_total_points": 4,
                "total_points": 5,
                "auto_drop_coral": 0,
                "auto_drop_algae": 0,
                "tele_drop_coral": 5,
                "tele_drop_algae": 0,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 6,
                "time_from_ground_to_reef": 10,
                "time_from_ground_to_net": 8,
                "time_from_ground_to_processor": 6,
                "time_from_reef_to_net": 7,
                "time_from_reef_to_processor": 8,
                "cage_level": "S",
                "cage_fail": False,
                "start_position": "3",
                "has_preload": True,
                "expected_cycle_time": 9.5,
                "expected_cycles": 20,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 2,
                "total_failed_pieces": 3,
                "tele_intake_poach": 0,
            },
            {
                "team_number": "254",
                "match_number": 3,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "auto_net": 0,
                "auto_processor": 1,
                "auto_coral_L1": 1,
                "auto_coral_L2": 0,
                "auto_coral_L3": 6,
                "auto_coral_L4": 1,
                "auto_fail_net": 0,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 1,
                "auto_fail_coral_L2": 9,
                "auto_fail_coral_L3": 0,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 1,
                "auto_intake_reef": 21,
                "tele_net": 1,
                "tele_processor": 0,
                "tele_coral_L1": 0,
                "tele_coral_L2": 1,
                "tele_coral_L3": 1,
                "tele_coral_L4": 3,
                "tele_fail_net": 1,
                "tele_fail_processor": 0,
                "tele_fail_coral_L1": 0,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 7,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 1,
                "tele_intake_ground_algae": 1,
                "tele_intake_reef": 1,
                "auto_total_intakes_ground": 2,
                "auto_total_intakes": 8,
                "tele_total_intakes_ground": 2,
                "tele_total_intakes": 4,
                "auto_total_pieces": 12,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 7,
                "tele_incap": 0,
                "auto_total_points": 7,
                "tele_total_points": 5,
                "endgame_total_points": 4,
                "total_points": 5,
                "auto_drop_coral": 0,
                "auto_drop_algae": 9,
                "tele_drop_coral": 0,
                "tele_drop_algae": 0,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 12,
                "time_from_ground_to_reef": 11,
                "time_from_ground_to_net": 11,
                "time_from_ground_to_processor": 15,
                "time_from_reef_to_net": 4,
                "time_from_reef_to_processor": 8,
                "cage_level": "N",
                "cage_fail": True,
                "start_position": "2",
                "has_preload": True,
                "expected_cycle_time": 9.5,
                "expected_cycles": 20,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 2,
                "total_failed_pieces": 3,
                "tele_intake_poach": 0,
            },
            {
                "team_number": "254",
                "match_number": 3,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "auto_net": 0,
                "auto_processor": 1,
                "auto_coral_L1": 1,
                "auto_coral_L2": 0,
                "auto_coral_L3": 0,
                "auto_coral_L4": 1,
                "auto_fail_net": 0,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 1,
                "auto_fail_coral_L2": 0,
                "auto_fail_coral_L3": 0,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 1,
                "auto_intake_reef": 0,
                "tele_net": 1,
                "tele_processor": 0,
                "tele_coral_L1": 0,
                "tele_coral_L2": 1,
                "tele_coral_L3": 1,
                "tele_coral_L4": 0,
                "tele_fail_net": 1,
                "tele_fail_processor": 0,
                "tele_fail_coral_L1": 0,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 0,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 1,
                "tele_intake_ground_algae": 1,
                "tele_intake_reef": 1,
                "auto_total_intakes_ground": 2,
                "auto_total_intakes": 3,
                "tele_total_intakes_ground": 2,
                "tele_total_intakes": 4,
                "auto_total_pieces": 4,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 7,
                "tele_incap": 73,
                "auto_total_points": 7,
                "tele_total_points": 5,
                "endgame_total_points": 4,
                "total_points": 5,
                "auto_drop_coral": 0,
                "auto_drop_algae": 0,
                "tele_drop_coral": 0,
                "tele_drop_algae": 0,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 6,
                "time_from_ground_to_reef": 8,
                "time_from_ground_to_net": 8,
                "time_from_ground_to_processor": 6,
                "time_from_reef_to_net": 4,
                "time_from_reef_to_processor": 8,
                "cage_level": "S",
                "cage_fail": False,
                "start_position": "2",
                "has_preload": True,
                "expected_cycle_time": 9.5,
                "expected_cycles": 20,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 2,
                "total_failed_pieces": 3,
                "tele_intake_poach": 0,
            },
        ]
        expected_output = {
            "auto_sd_coral_L1": 0.4,
            "auto_sd_coral_L2": 0.4,
            "auto_sd_coral_L3": 2.4,
            "auto_sd_coral_L4": 1.2,
            "auto_sd_drop_algae": 3.521363372332,
            "auto_sd_drop_coral": 0.0,
            "auto_sd_fail_coral_L1": 0.4,
            "auto_sd_fail_coral_L2": 3.6,
            "auto_sd_fail_coral_L3": 0.0,
            "auto_sd_fail_coral_L4": 0.0,
            "auto_sd_fail_net": 0.0,
            "auto_sd_fail_processor": 0.0,
            "auto_sd_intake_ground_algae": 0.0,
            "auto_sd_intake_ground_coral": 0.0,
            "auto_sd_intake_reef": 8.148619514985,
            "auto_sd_intake_station": 0.4,
            "auto_sd_net": 0.0,
            "auto_sd_processor": 0.0,
            "auto_sd_total_failed_pieces": 0.0,
            "auto_sd_total_intakes": 2.0,
            "auto_sd_total_pieces": 3.2,
            "auto_sd_total_points": 0.4,
            "endgame_sd_total_points": 0.8,
            "lfm_auto_sd_coral_L1": 0.4,
            "lfm_auto_sd_coral_L2": 0.4,
            "lfm_auto_sd_coral_L3": 2.4,
            "lfm_auto_sd_coral_L4": 1.2,
            "lfm_auto_sd_drop_algae": 3.521363372332,
            "lfm_auto_sd_drop_coral": 0.0,
            "lfm_auto_sd_fail_coral_L1": 0.4,
            "lfm_auto_sd_fail_coral_L2": 3.6,
            "lfm_auto_sd_fail_coral_L3": 0.0,
            "lfm_auto_sd_fail_coral_L4": 0.0,
            "lfm_auto_sd_fail_net": 0.0,
            "lfm_auto_sd_fail_processor": 0.0,
            "lfm_auto_sd_intake_ground_algae": 0.0,
            "lfm_auto_sd_intake_ground_coral": 0.0,
            "lfm_auto_sd_intake_reef": 8.148619514985,
            "lfm_auto_sd_intake_station": 0.4,
            "lfm_auto_sd_net": 0.0,
            "lfm_auto_sd_processor": 0.0,
            "lfm_auto_sd_total_failed_pieces": 0.0,
            "lfm_auto_sd_total_intakes": 2.0,
            "lfm_auto_sd_total_pieces": 3.2,
            "lfm_auto_sd_total_points": 0.4,
            "lfm_endgame_sd_total_points": 0.8,
            "lfm_sd_expected_cycle_time": 0.2,
            "lfm_sd_expected_cycles": 0.4,
            "lfm_sd_total_failed_pieces": 0.0,
            "lfm_sd_total_intakes": 7.838367176906,
            "lfm_sd_total_pieces": 0.0,
            "lfm_sd_total_points": 0.0,
            "lfm_tele_sd_total_pieces": 0.0,
            "lfm_tele_sd_coral_L1": 0.0,
            "lfm_tele_sd_coral_L2": 1.2,
            "lfm_tele_sd_coral_L3": 0.0,
            "lfm_tele_sd_coral_L4": 4.317406628985,
            "lfm_tele_sd_fail_coral_L1": 3.2,
            "lfm_tele_sd_fail_coral_L2": 0.0,
            "lfm_tele_sd_fail_coral_L3": 0.0,
            "lfm_tele_sd_fail_coral_L4": 2.8,
            "lfm_tele_sd_fail_net": 0.0,
            "lfm_tele_sd_fail_processor": 3.6,
            "lfm_tele_sd_incap": 31.777979797338,
            "lfm_tele_sd_intake_ground_algae": 3.6,
            "lfm_tele_sd_intake_ground_coral": 0.0,
            "lfm_tele_sd_intake_reef": 0.0,
            "lfm_tele_sd_intake_station": 0.0,
            "lfm_tele_sd_net": 0.0,
            "lfm_tele_sd_processor": 0.0,
            "lfm_tele_sd_total_failed_pieces": 0.4,
            "lfm_tele_sd_total_intakes": 0.0,
            "lfm_tele_sd_total_points": 0.0,
            "sd_expected_cycle_time": 0.2,
            "sd_expected_cycles": 0.4,
            "sd_total_failed_pieces": 0.0,
            "sd_total_intakes": 7.838367176906,
            "sd_total_pieces": 0.0,
            "sd_total_points": 0.0,
            "tele_sd_total_pieces": 0.0,
            "tele_sd_coral_L1": 0.0,
            "tele_sd_coral_L2": 1.2,
            "tele_sd_coral_L3": 0.0,
            "tele_sd_coral_L4": 4.317406628985,
            "tele_sd_fail_coral_L1": 3.2,
            "tele_sd_fail_coral_L2": 0.0,
            "tele_sd_fail_coral_L3": 0.0,
            "tele_sd_fail_coral_L4": 2.8,
            "tele_sd_fail_net": 0.0,
            "tele_sd_fail_processor": 3.6,
            "tele_sd_incap": 31.777979797338,
            "tele_sd_intake_ground_algae": 3.6,
            "tele_sd_intake_ground_coral": 0.0,
            "tele_sd_intake_reef": 0.0,
            "tele_sd_intake_station": 0.0,
            "tele_sd_net": 0.0,
            "tele_sd_processor": 0.0,
            "tele_sd_total_failed_pieces": 0.4,
            "tele_sd_total_intakes": 0.0,
            "tele_sd_total_points": 0.0,
            "lfm_tele_sd_drop_algae": 3.6,
            "lfm_tele_sd_drop_coral": 2.0,
            "tele_sd_drop_algae": 3.6,
            "tele_sd_drop_coral": 2.0,
        }
        action_counts = self.test_calc.get_action_counts(tims)
        lfm_action_counts = self.test_calc.get_action_counts(
            [tim for tim in tims if tim["match_number"] > 1]
        )
        standard_deviations = self.test_calc.calculate_standard_deviations(
            action_counts, lfm_action_counts
        )
        assert (
            # Rounds every value in standard_deviations and expected_output to the 12th decimal point
            {key: round(standard_deviations[key], 12) for key in standard_deviations}
            == {key: round(expected_output[key], 12) for key in expected_output}
        )

    def test_counts(self):
        """Tests calculate_counts function from src/calculations/obj_team.py"""
        tims = [
            {
                "match_number": 1,
                "start_position": "1",
                "cage_level": "S",
                "park": False,
                "cage_fail": False,
                "scored_preload": True,
                "tele_incap": 5,
                "has_preload": True,
            },
            {
                "match_number": 2,
                "start_position": "1",
                "cage_level": "D",
                "park": False,
                "cage_fail": False,
                "scored_preload": True,
                "tele_incap": 0,
                "has_preload": True,
            },
            {
                "match_number": 3,
                "start_position": "2",
                "cage_level": "D",
                "park": False,
                "cage_fail": False,
                "scored_preload": True,
                "tele_incap": 0,
                "has_preload": True,
            },
            {
                "match_number": 4,
                "start_position": "3",
                "cage_level": "D",
                "park": True,
                "cage_fail": True,
                "scored_preload": True,
                "tele_incap": 0,
                "has_preload": True,
            },
            {
                "match_number": 5,
                "start_position": "1",
                "cage_level": "D",
                "park": False,
                "cage_fail": False,
                "scored_preload": True,
                "tele_incap": 10,
                "has_preload": True,
            },
        ]
        lfm_tims = [tim for tim in tims if tim["match_number"] > 1]

        expected_output = {
            "cage_attempts_all": 5,
            "cage_attempts_deep": 4,
            "cage_attempts_shallow": 1,
            "cage_fails_all": 1,
            "cage_fails_deep": 1,
            "cage_fails_shallow": 0,
            "cage_successes_all": 4,
            "cage_successes_deep": 3,
            "cage_successes_shallow": 1,
            "lfm_cage_attempts_all": 4,
            "lfm_cage_attempts_deep": 4,
            "lfm_cage_attempts_shallow": 0,
            "lfm_cage_fails_all": 1,
            "lfm_cage_fails_deep": 1,
            "lfm_cage_fails_shallow": 0,
            "lfm_cage_successes_all": 3,
            "lfm_cage_successes_deep": 3,
            "lfm_cage_successes_shallow": 0,
            "lfm_matches_incap": 1,
            "matches_played": 5,
            "lfm_parks": 1,
            "lfm_position_one_starts": 2,
            "lfm_position_three_starts": 1,
            "lfm_position_two_starts": 1,
            "lfm_position_zero_starts": 0,
            "lfm_position_four_starts": 0,
            "lfm_position_five_starts": 0,
            "lfm_preload_successes": 4,
            "lfm_preloaded_starts": 4,
            "matches_incap": 2,
            "parks": 1,
            "position_one_starts": 3,
            "position_three_starts": 1,
            "position_two_starts": 1,
            "position_zero_starts": 0,
            "position_four_starts": 0,
            "position_five_starts": 0,
            "preload_successes": 5,
            "preloaded_starts": 5,
        }
        assert self.test_calc.calculate_counts(tims, lfm_tims) == expected_output

    """def test_multi_counts(self):
        '''Tests calculate_multi_counts from src/calculations/obj_team.py'''
        obj_tims = [
            {"match_number": 1, "team_number": 1678, "trap": 69, "failed_trap": 42},
            {"match_number": 2, "team_number": 1678, "trap": 42, "failed_trap": 69},
            {"match_number": 3, "team_number": 1678, "trap": 69, "failed_trap": 42},
            {"match_number": 4, "team_number": 1678, "trap": 42, "failed_trap": 69},
            {"match_number": 5, "team_number": 1678, "trap": 69, "failed_trap": 42},
            {"match_number": 6, "team_number": 1678, "trap": 42, "failed_trap": 69},
        ]
        result = self.test_calc.calculate_multi_counts(obj_tims, obj_tims[2:])
        assert result == {
            "trap_successes": 333,
            "trap_fails": 333,
            "trap_attempts": 666,
            "lfm_trap_successes": 222,
            "lfm_trap_fails": 222,
            "lfm_trap_attempts": 444,
        }
    NOT APPLICABLE TO REEFSCAPE"""

    """def test_special_counts(self):
        '''Tests calculate_special_counts function from src/calculations.obj_team.py'''
        obj_tims = [
            {
                "match_number": 1,
                "team_number": 99999,
                "chain_amp": "O",
                "chain_blind": "N",
                "chain_source": "N",
            },
            {
                "match_number": 2,
                "team_number": 99999,
                "chain_amp": "N",
                "chain_blind": "O",
                "chain_source": "N",
            },
            {
                "match_number": 3,
                "team_number": 99999,
                "chain_amp": "O",
                "chain_blind": "N",
                "chain_source": "N",
            },
            {
                "match_number": 4,
                "team_number": 99999,
                "chain_amp": "N",
                "chain_blind": "N",
                "chain_source": "O",
            },
            {
                "match_number": 5,
                "team_number": 99999,
                "chain_amp": "N",
                "chain_blind": "F",
                "chain_source": "N",
            },
        ]
        subj_tims = [
            {
                "match_number": 1,
                "team_number": 99999,
                "climb_after": True,
            },
            {
                "match_number": 2,
                "team_number": 99999,
                "climb_after": False,
            },
            {
                "match_number": 3,
                "team_number": 99999,
                "climb_after": True,
            },
            {
                "match_number": 4,
                "team_number": 99999,
                "climb_after": True,
            },
            {
                "match_number": 5,
                "team_number": 99999,
                "climb_after": True,
            },
        ]
        expected_output = {
            "climb_after_successes": 4,
            "lfm_climb_after_successes": 3,
        }
        lfm_obj_tims = [tim for tim in obj_tims if tim["match_number"] > 1]
        lfm_subj_tims = [tim for tim in subj_tims if tim["match_number"] > 1]
        assert (
            self.test_calc.calculate_special_counts(
                obj_tims, subj_tims, lfm_obj_tims, lfm_subj_tims
            )
            == expected_output
        )
        Not in reefscape"""

    """def test_super_counts(self):
        '''Tests calculate_super_counts function from src/calculations.obj_team.py'''
        tims = [
            {
                "match_number": 1,
                "team_number": "1678",
                "was_tippy": True,
                "climb_after": False,
                "did_ferry": True,
            },
            {
                "match_number": 2,
                "team_number": "1678",
                "was_tippy": False,
                "climb_after": True,
                "did_ferry": True,
            },
            {
                "match_number": 3,
                "team_number": "1678",
                "was_tippy": False,
                "climb_after": True,
                "did_ferry": True,
            },
            {
                "match_number": 4,
                "team_number": "1678",
                "was_tippy": True,
                "climb_after": True,
                "did_ferry": True,
            },
            {
                "match_number": 5,
                "team_number": "1678",
                "was_tippy": True,
                "climb_after": True,
                "did_ferry": True,
            },
        ]
        expected_output = {
            "matches_climb_after": 4,
            "lfm_matches_climb_after": 4,
        }
        lfm_tims = [tim for tim in tims if tim["match_number"] > 1]
        assert self.test_calc.calculate_super_counts(tims, lfm_tims) == expected_output
        Not in reefscape"""

    def test_ss_counts(self):
        """Tests calculate_ss_counts function from src/calculations.obj_team.py"""
        tims = [
            {
                "match_number": 1,
                "team_number": "1690",
                "played_defense": True,
                "broken_mechanism": True,
            },
            {
                "match_number": 2,
                "team_number": "1690",
                "played_defense": True,
            },
            {
                "match_number": 3,
                "team_number": "1690",
                "played_defense": False,
            },
            {
                "match_number": 4,
                "team_number": "1690",
                "played_defense": True,
            },
            {
                "match_number": 5,
                "team_number": "1690",
                "played_defense": True,
            },
            {"match_number": 5, "team_number": "5419"},
        ]
        expected_output = {
            "matches_played_defense": 4,
            "lfm_matches_played_against_defense": 0,
            "lfm_matches_played_defense": 3,
            "matches_played_against_defense": 0,
            "lfm_matches_with_broken_mechanism": 0,
            "matches_with_broken_mechanism": 1,
        }
        lfm_tims = [tim for tim in tims if tim["match_number"] > 1]
        assert self.test_calc.calculate_ss_counts(tims, lfm_tims) == expected_output

    def test_extrema(self):
        tims = [
            {
                "team_number": "254",
                "match_number": 3,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "auto_net": 0,
                "auto_processor": 1,
                "auto_coral_L1": 1,
                "auto_coral_L2": 1,
                "auto_coral_L3": 0,
                "auto_coral_L4": 1,
                "auto_fail_net": 0,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 1,
                "auto_fail_coral_L2": 0,
                "auto_fail_coral_L3": 0,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 1,
                "auto_intake_reef": 0,
                "tele_net": 1,
                "tele_processor": 0,
                "tele_coral_L1": 0,
                "tele_coral_L2": 1,
                "tele_coral_L3": 1,
                "tele_coral_L4": 10,
                "tele_fail_net": 1,
                "tele_fail_processor": 0,
                "tele_fail_coral_L1": 0,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 0,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 1,
                "tele_intake_ground_algae": 1,
                "tele_intake_reef": 1,
                "auto_total_intakes_ground": 2,
                "auto_total_intakes": 3,
                "tele_total_intakes_ground": 15,
                "tele_total_intakes": 4,
                "auto_total_pieces": 4,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 26,
                "tele_incap": 73,
                "auto_total_points": 7,
                "tele_total_points": 5,
                "endgame_total_points": 4,
                "total_points": 5,
                "auto_drop_coral": 0,
                "auto_drop_algae": 0,
                "tele_drop_coral": 0,
                "tele_drop_algae": 9,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 6,
                "time_from_ground_to_reef": 8,
                "time_from_ground_to_net": 8,
                "time_from_ground_to_processor": 34,
                "time_from_reef_to_net": 4,
                "time_from_reef_to_processor": 8,
                "cage_level": "S",
                "cage_fail": False,
                "start_position": "1",
                "has_preload": True,
                "expected_cycle_time": 9.5,
                "expected_cycles": 21,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 2,
                "total_failed_pieces": 3,
                "tele_intake_poach": 0,
            },
            {
                "team_number": "254",
                "match_number": 3,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "auto_net": 0,
                "auto_processor": 1,
                "auto_coral_L1": 2,
                "auto_coral_L2": 0,
                "auto_coral_L3": 0,
                "auto_coral_L4": 1,
                "auto_fail_net": 0,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 2,
                "auto_fail_coral_L2": 0,
                "auto_fail_coral_L3": 0,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 2,
                "auto_intake_reef": 0,
                "tele_net": 1,
                "tele_processor": 0,
                "tele_coral_L1": 0,
                "tele_coral_L2": 4,
                "tele_coral_L3": 1,
                "tele_coral_L4": 0,
                "tele_fail_net": 1,
                "tele_fail_processor": 9,
                "tele_fail_coral_L1": 8,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 0,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 1,
                "tele_intake_ground_algae": 1,
                "tele_intake_reef": 1,
                "auto_total_intakes_ground": 6,
                "auto_total_intakes": 3,
                "tele_total_intakes_ground": 2,
                "tele_total_intakes": 4,
                "auto_total_pieces": 4,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 5,
                "tele_incap": 11,
                "auto_total_points": 7,
                "tele_total_points": 5,
                "endgame_total_points": 2,
                "total_points": 5,
                "auto_drop_coral": 0,
                "auto_drop_algae": 1,
                "tele_drop_coral": 0,
                "tele_drop_algae": 0,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 6,
                "time_from_ground_to_reef": 8,
                "time_from_ground_to_net": 8,
                "time_from_ground_to_processor": 6,
                "time_from_reef_to_net": 4,
                "time_from_reef_to_processor": 8,
                "cage_level": "D",
                "cage_fail": False,
                "start_position": "2",
                "has_preload": True,
                "expected_cycle_time": 10,
                "expected_cycles": 20,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 3,
                "total_failed_pieces": 3,
                "tele_intake_poach": 0,
            },
            {
                "team_number": "254",
                "match_number": 3,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "auto_net": 0,
                "auto_processor": 1,
                "auto_coral_L1": 1,
                "auto_coral_L2": 0,
                "auto_coral_L3": 0,
                "auto_coral_L4": 4,
                "auto_fail_net": 0,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 1,
                "auto_fail_coral_L2": 0,
                "auto_fail_coral_L3": 0,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 1,
                "auto_intake_reef": 4,
                "tele_net": 1,
                "tele_processor": 0,
                "tele_coral_L1": 0,
                "tele_coral_L2": 1,
                "tele_coral_L3": 1,
                "tele_coral_L4": 9,
                "tele_fail_net": 1,
                "tele_fail_processor": 0,
                "tele_fail_coral_L1": 0,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 0,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 1,
                "tele_intake_ground_algae": 10,
                "tele_intake_reef": 1,
                "auto_total_intakes_ground": 2,
                "auto_total_intakes": 3,
                "tele_total_intakes_ground": 2,
                "tele_total_intakes": 4,
                "auto_total_pieces": 4,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 7,
                "tele_incap": 16,
                "auto_total_points": 8,
                "tele_total_points": 5,
                "endgame_total_points": 4,
                "total_points": 5,
                "auto_drop_coral": 0,
                "auto_drop_algae": 0,
                "tele_drop_coral": 5,
                "tele_drop_algae": 0,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 6,
                "time_from_ground_to_reef": 10,
                "time_from_ground_to_net": 8,
                "time_from_ground_to_processor": 6,
                "time_from_reef_to_net": 7,
                "time_from_reef_to_processor": 8,
                "cage_level": "S",
                "cage_fail": False,
                "start_position": "3",
                "has_preload": True,
                "expected_cycle_time": 9.5,
                "expected_cycles": 20,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 2,
                "total_failed_pieces": 3,
                "tele_intake_poach": 0,
            },
            {
                "team_number": "254",
                "match_number": 3,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "auto_net": 0,
                "auto_processor": 1,
                "auto_coral_L1": 1,
                "auto_coral_L2": 0,
                "auto_coral_L3": 6,
                "auto_coral_L4": 1,
                "auto_fail_net": 0,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 1,
                "auto_fail_coral_L2": 9,
                "auto_fail_coral_L3": 0,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 1,
                "auto_intake_reef": 21,
                "tele_net": 1,
                "tele_processor": 0,
                "tele_coral_L1": 0,
                "tele_coral_L2": 1,
                "tele_coral_L3": 1,
                "tele_coral_L4": 3,
                "tele_fail_net": 1,
                "tele_fail_processor": 0,
                "tele_fail_coral_L1": 0,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 7,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 1,
                "tele_intake_ground_algae": 1,
                "tele_intake_reef": 1,
                "auto_total_intakes_ground": 2,
                "auto_total_intakes": 8,
                "tele_total_intakes_ground": 2,
                "tele_total_intakes": 4,
                "auto_total_pieces": 12,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 7,
                "tele_incap": 0,
                "auto_total_points": 7,
                "tele_total_points": 5,
                "endgame_total_points": 4,
                "total_points": 5,
                "auto_drop_coral": 0,
                "auto_drop_algae": 9,
                "tele_drop_coral": 0,
                "tele_drop_algae": 0,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 12,
                "time_from_ground_to_reef": 11,
                "time_from_ground_to_net": 11,
                "time_from_ground_to_processor": 15,
                "time_from_reef_to_net": 4,
                "time_from_reef_to_processor": 8,
                "cage_level": "N",
                "cage_fail": True,
                "start_position": "2",
                "has_preload": True,
                "expected_cycle_time": 9.5,
                "expected_cycles": 20,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 2,
                "total_failed_pieces": 3,
                "tele_intake_poach": 0,
            },
            {
                "team_number": "254",
                "match_number": 3,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "auto_net": 0,
                "auto_processor": 1,
                "auto_coral_L1": 1,
                "auto_coral_L2": 0,
                "auto_coral_L3": 0,
                "auto_coral_L4": 1,
                "auto_fail_net": 0,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 1,
                "auto_fail_coral_L2": 0,
                "auto_fail_coral_L3": 0,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 1,
                "auto_intake_reef": 0,
                "tele_net": 1,
                "tele_processor": 0,
                "tele_coral_L1": 0,
                "tele_coral_L2": 1,
                "tele_coral_L3": 1,
                "tele_coral_L4": 0,
                "tele_fail_net": 1,
                "tele_fail_processor": 0,
                "tele_fail_coral_L1": 0,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 0,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 1,
                "tele_intake_ground_algae": 1,
                "tele_intake_reef": 1,
                "auto_total_intakes_ground": 2,
                "auto_total_intakes": 3,
                "tele_total_intakes_ground": 2,
                "tele_total_intakes": 4,
                "auto_total_pieces": 4,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 7,
                "tele_incap": 73,
                "auto_total_points": 7,
                "tele_total_points": 5,
                "endgame_total_points": 4,
                "total_points": 5,
                "auto_drop_coral": 0,
                "auto_drop_algae": 0,
                "tele_drop_coral": 0,
                "tele_drop_algae": 0,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 6,
                "time_from_ground_to_reef": 8,
                "time_from_ground_to_net": 8,
                "time_from_ground_to_processor": 6,
                "time_from_reef_to_net": 4,
                "time_from_reef_to_processor": 8,
                "cage_level": "S",
                "cage_fail": False,
                "start_position": "2",
                "has_preload": True,
                "expected_cycle_time": 9.5,
                "expected_cycles": 20,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 2,
                "total_failed_pieces": 3,
                "tele_intake_poach": 0,
            },
        ]
        lfm_tims = [tim for tim in tims if tim["match_number"] > 1]
        action_counts = self.test_calc.get_action_counts(tims)
        lfm_action_counts = self.test_calc.get_action_counts(lfm_tims)
        expected_output = {
            "auto_max_coral_L1": 2,
            "auto_max_coral_L2": 1,
            "auto_max_coral_L3": 6,
            "auto_max_coral_L4": 4,
            "auto_max_drop_algae": 9,
            "auto_max_drop_coral": 0,
            "auto_max_fail_coral_L1": 2,
            "auto_max_fail_coral_L2": 9,
            "auto_max_fail_coral_L3": 0,
            "auto_max_fail_coral_L4": 1,
            "auto_max_fail_net": 0,
            "auto_max_fail_processor": 1,
            "auto_max_intake_ground_algae": 2,
            "auto_max_intake_ground_coral": 0,
            "auto_max_intake_reef": 21,
            "auto_max_intake_station": 2,
            "auto_max_net": 0,
            "auto_max_processor": 1,
            "auto_max_total_failed_pieces": 1,
            "auto_max_total_intakes": 8,
            "auto_max_total_pieces": 12,
            "auto_max_total_points": 8,
            "endgame_max_total_points": 4,
            "lfm_auto_max_coral_L1": 2,
            "lfm_auto_max_coral_L2": 1,
            "lfm_auto_max_coral_L3": 6,
            "lfm_auto_max_coral_L4": 4,
            "lfm_auto_max_drop_algae": 9,
            "lfm_auto_max_drop_coral": 0,
            "lfm_auto_max_fail_coral_L1": 2,
            "lfm_auto_max_fail_coral_L2": 9,
            "lfm_auto_max_fail_coral_L3": 0,
            "lfm_auto_max_fail_coral_L4": 1,
            "lfm_auto_max_fail_net": 0,
            "lfm_auto_max_fail_processor": 1,
            "lfm_auto_max_intake_ground_algae": 2,
            "lfm_auto_max_intake_ground_coral": 0,
            "lfm_auto_max_intake_reef": 21,
            "lfm_auto_max_intake_station": 2,
            "lfm_auto_max_net": 0,
            "lfm_auto_max_processor": 1,
            "lfm_auto_max_total_failed_pieces": 1,
            "lfm_auto_max_total_intakes": 8,
            "lfm_auto_max_total_pieces": 12,
            "lfm_auto_max_total_points": 8,
            "lfm_endgame_max_total_points": 4,
            "lfm_max_expected_cycle_time": 10,
            "lfm_max_expected_cycles": 21,
            "lfm_max_tele_incap": 73,
            "lfm_max_total_intakes": 26,
            "lfm_max_total_pieces": 7,
            "lfm_max_total_points": 5,
            "lfm_min_expected_cycle_time": 9.5,
            "lfm_tele_max_coral_L1": 0,
            "lfm_tele_max_coral_L2": 4,
            "lfm_tele_max_coral_L3": 1,
            "lfm_tele_max_coral_L4": 10,
            "lfm_tele_max_drop_algae": 9,
            "lfm_tele_max_drop_coral": 5,
            "lfm_tele_max_fail_coral_L1": 8,
            "lfm_tele_max_fail_coral_L2": 1,
            "lfm_tele_max_fail_coral_L3": 1,
            "lfm_tele_max_fail_coral_L4": 7,
            "lfm_tele_max_fail_net": 1,
            "lfm_tele_max_fail_processor": 9,
            "lfm_tele_max_intake_ground_algae": 10,
            "lfm_tele_max_intake_ground_coral": 1,
            "lfm_tele_max_intake_reef": 1,
            "lfm_tele_max_intake_station": 1,
            "lfm_tele_max_net": 1,
            "lfm_tele_max_processor": 0,
            "lfm_tele_max_total_failed_pieces": 3,
            "lfm_tele_max_total_intakes": 4,
            "lfm_tele_max_total_pieces": 3,
            "lfm_tele_max_total_points": 5,
            "max_expected_cycle_time": 10,
            "max_expected_cycles": 21,
            "max_tele_incap": 73,
            "max_total_intakes": 26,
            "max_total_pieces": 7,
            "max_total_points": 5,
            "min_expected_cycle_time": 9.5,
            "tele_max_coral_L1": 0,
            "tele_max_coral_L2": 4,
            "tele_max_coral_L3": 1,
            "tele_max_coral_L4": 10,
            "tele_max_drop_algae": 9,
            "tele_max_drop_coral": 5,
            "tele_max_fail_coral_L1": 8,
            "tele_max_fail_coral_L2": 1,
            "tele_max_fail_coral_L3": 1,
            "tele_max_fail_coral_L4": 7,
            "tele_max_fail_net": 1,
            "tele_max_fail_processor": 9,
            "tele_max_intake_ground_algae": 10,
            "tele_max_intake_ground_coral": 1,
            "tele_max_intake_reef": 1,
            "tele_max_intake_station": 1,
            "tele_max_net": 1,
            "tele_max_processor": 0,
            "tele_max_total_failed_pieces": 3,
            "tele_max_total_intakes": 4,
            "tele_max_total_pieces": 3,
            "tele_max_total_points": 5,
            "min_expected_cycles": 20,
        }
        assert (
            self.test_calc.calculate_extrema(
                action_counts,
                lfm_action_counts,
            )
            == expected_output
        )

    def test_medians(self):
        tims = [
            {
                "match_number": 1,
                "tele_incap": 20,
                "expected_cycle_time": 9,
                "expected_cycles": 8,
            },
            {
                "match_number": 2,
                "tele_incap": 0,
                "expected_cycle_time": 10,
                "expected_cycles": 9,
            },
            {
                "match_number": 3,
                "tele_incap": 1,
                "expected_cycle_time": 15,
                "expected_cycles": 16,
            },
            {
                "match_number": 4,
                "tele_incap": 5,
                "expected_cycle_time": 30,
                "expected_cycles": 4,
            },
            {
                "match_number": 5,
                "tele_incap": 6,
                "expected_cycle_time": 19,
                "expected_cycles": 5,
            },
            {
                "match_number": 6,
                "tele_incap": 10,
                "expected_cycle_time": 41,
                "expected_cycles": 3,
            },
            {
                "match_number": 7,
                "tele_incap": 150,
                "expected_cycle_time": 0,
                "expected_cycles": 0,
            },
        ]

        expected_output = {
            "lfm_median_nonzero_expected_cycle_time": 24.5,
            "lfm_median_nonzero_expected_cycles": 4,
            "lfm_median_nonzero_tele_incap": 8.0,
            "median_nonzero_expected_cycle_time": 15,
            "median_nonzero_expected_cycles": 6.5,
            "median_nonzero_tele_incap": 8.0,
        }

        lfm_tims = [tim for tim in tims if tim["match_number"] > (len(tims) - 4)]
        action_sum = self.test_calc.get_action_sum(tims)
        lfm_action_sum = self.test_calc.get_action_sum(lfm_tims)
        assert (
            self.test_calc.calculate_medians(
                action_sum,
                lfm_action_sum,
            )
        ) == expected_output

    def test_modes(self):
        tims = [
            {
                "match_number": 1,
                "start_position": "3",
                "cage_level": "D",
                "cage_fail": True,
            },
            {
                "match_number": 2,
                "start_position": "2",
                "cage_level": "D",
                "cage_fail": False,
            },
            {
                "match_number": 3,
                "start_position": "2",
                "cage_level": "D",
                "cage_fail": False,
            },
            {
                "match_number": 4,
                "start_position": "1",
                "cage_level": "S",
                "cage_fail": False,
            },
            {
                "match_number": 5,
                "start_position": "1",
                "cage_level": "S",
                "cage_fail": True,
            },
            {
                "match_number": 6,
                "start_position": "3",
                "cage_level": "N",
                "cage_fail": True,
            },
            {
                "match_number": 7,
                "start_position": "2",
                "cage_level": "P",
                "cage_fail": False,
            },
            {
                "match_number": 8,
                "start_position": "1",
                "cage_level": "D",
                "cage_fail": False,
            },
            {
                "match_number": 9,
                "start_position": "3",
                "cage_level": "D",
                "cage_fail": True,
            },
            {
                "match_number": 10,
                "start_position": "1",
                "cage_level": "D",
                "cage_fail": False,
            },
            {
                "match_number": 11,
                "start_position": "2",
                "cage_level": "S",
                "cage_fail": False,
            },
        ]
        lfm_tims = [tim for tim in tims if tim["match_number"] > 2]
        action_categories = self.test_calc.get_action_categories(tims)
        lfm_action_categories = self.test_calc.get_action_categories(lfm_tims)
        assert self.test_calc.calculate_modes(action_categories, lfm_action_categories) == {
            "lfm_mode_cage_level": ["D"],
            "lfm_mode_start_position": ["1"],
            "mode_cage_level": ["D"],
            "mode_start_position": ["2", "1"],
        }

    def test_success_rates(self):
        team_data = {
            "auto_avg_coral_L1": 1.2,
            "auto_avg_coral_L2": 0.2,
            "auto_avg_coral_L3": 1.2,
            "auto_avg_coral_L4": 1.6,
            "auto_avg_fail_coral_L1": 1.2,
            "auto_avg_fail_coral_L2": 1.8,
            "auto_avg_fail_coral_L3": 0.0,
            "auto_avg_fail_coral_L4": 1.0,
            "auto_avg_fail_net": 0.0,
            "auto_avg_fail_processor": 1.0,
            "auto_avg_net": 0.0,
            "auto_avg_processor": 1.0,
            "lfm_auto_avg_coral_L1": 1.2,
            "lfm_auto_avg_coral_L2": 0.2,
            "lfm_auto_avg_coral_L3": 1.2,
            "lfm_auto_avg_coral_L4": 1.6,
            "lfm_auto_avg_fail_coral_L1": 1.2,
            "lfm_auto_avg_fail_coral_L2": 1.8,
            "lfm_auto_avg_fail_coral_L3": 0.0,
            "lfm_auto_avg_fail_coral_L4": 1.0,
            "lfm_auto_avg_fail_net": 0.0,
            "lfm_auto_avg_fail_processor": 1.0,
            "lfm_auto_avg_net": 0.0,
            "lfm_auto_avg_processor": 1.0,
            "lfm_tele_avg_coral_L1": 0.0,
            "lfm_tele_avg_coral_L2": 1.6,
            "lfm_tele_avg_coral_L3": 1.0,
            "lfm_tele_avg_coral_L4": 4.4,
            "lfm_tele_avg_fail_coral_L1": 1.6,
            "lfm_tele_avg_fail_coral_L2": 1.0,
            "lfm_tele_avg_fail_coral_L3": 1.0,
            "lfm_tele_avg_fail_coral_L4": 1.4,
            "lfm_tele_avg_fail_net": 1.0,
            "lfm_tele_avg_fail_processor": 1.8,
            "lfm_tele_avg_net": 1.0,
            "lfm_tele_avg_processor": 0.0,
            "tele_avg_coral_L1": 0.0,
            "tele_avg_coral_L2": 1.6,
            "tele_avg_coral_L3": 1.0,
            "tele_avg_coral_L4": 4.4,
            "tele_avg_fail_coral_L1": 1.6,
            "tele_avg_fail_coral_L2": 1.0,
            "tele_avg_fail_coral_L3": 1.0,
            "tele_avg_fail_coral_L4": 1.4,
            "tele_avg_fail_net": 1.0,
            "tele_avg_fail_processor": 1.8,
            "tele_avg_net": 1.0,
            "tele_avg_processor": 0.0,
            "cage_attempts_all": 5,
            "cage_attempts_deep": 4,
            "cage_attempts_shallow": 1,
            "cage_successes_all": 9,
            "cage_successes_deep": 8,
            "cage_successes_shallow": 5,
            "lfm_cage_attempts_all": 4,
            "lfm_cage_attempts_deep": 4,
            "lfm_cage_attempts_shallow": 0,
            "lfm_cage_successes_all": 7,
            "lfm_cage_successes_deep": 7,
            "lfm_cage_successes_shallow": 3,
            "matches_played": 5,
            "lfm_parks": 0,
            "lfm_preload_successes": 4,
            "lfm_preloaded_starts": 4,
            "parks": 0,
            "preload_successes": 5,
            "preloaded_starts": 5,
        }
        assert self.test_calc.calculate_success_rates(team_data) == {
            "auto_coral_L1_percent_success": 0.5,
            "auto_coral_L2_percent_success": 0.1,
            "auto_coral_L3_percent_success": 1.0,
            "auto_coral_L4_percent_success": 0.6153846153846154,
            "auto_net_percent_success": None,
            "auto_preload_percent_success": 1.0,
            "auto_processor_percent_success": 0.5,
            "cage_percent_success_all": 1,
            "cage_percent_success_deep": 1,
            "cage_percent_success_shallow": 1,
            "lfm_auto_coral_L1_percent_success": 0.5,
            "lfm_auto_coral_L2_percent_success": 0.1,
            "lfm_auto_coral_L3_percent_success": 1.0,
            "lfm_auto_coral_L4_percent_success": 0.6153846153846154,
            "lfm_auto_net_percent_success": None,
            "lfm_auto_preload_percent_success": 1.0,
            "lfm_auto_processor_percent_success": 0.5,
            "lfm_cage_percent_success_all": 1,
            "lfm_cage_percent_success_deep": 1,
            "lfm_cage_percent_success_shallow": 1,
            "lfm_park_percent": 0.0,
            "lfm_tele_coral_L1_percent_success": 0.0,
            "lfm_tele_coral_L2_percent_success": 0.6153846153846154,
            "lfm_tele_coral_L3_percent_success": 0.5,
            "lfm_tele_coral_L4_percent_success": 0.7586206896551724,
            "lfm_tele_net_percent_success": 0.5,
            "lfm_tele_processor_percent_success": 0.0,
            "park_percent": 0.0,
            "tele_coral_L1_percent_success": 0.0,
            "tele_coral_L2_percent_success": 0.6153846153846154,
            "tele_coral_L3_percent_success": 0.6153846153846154,
            "tele_coral_L4_percent_success": 0.6153846153846154,
            "tele_net_percent_success": 0.5,
            "tele_processor_percent_success": 0.0,
        }

    def test_calculate_sums(self):
        team_data = {}
        obj_tims = [
            {
                "tele_incap": 5,
            },
            {
                "tele_incap": 4,
            },
            {
                "tele_incap": 5,
            },
            {
                "tele_incap": 7,
            },
            {
                "tele_incap": 3,
            },
            {
                "tele_incap": 2,
            },
        ]
        obj_lfm_tims = obj_tims[-4:]
        assert self.test_calc.calculate_sums(team_data, obj_tims, obj_lfm_tims) == {
            "total_incap_time": 26,
            "lfm_total_incap_time": 17,
        }

    # def test_calculate_avg_defense_points_subtracted(self):
    #     obj_tims = [
    #         {
    #             "team_number": "1678",
    #             "match_number": 1,
    #             "total_points": 80,  # avg 1678 score should be 100 normally
    #             "alliance_color_is_red": True,
    #         },
    #         {
    #             "team_number": "1678",
    #             "match_number": 2,
    #             "total_points": 100000,
    #             "alliance_color_is_red": True,
    #         },
    #         {
    #             "team_number": "1678",
    #             "match_number": 3,
    #             "total_points": 120,
    #             "alliance_color_is_red": True,
    #         },
    #         {
    #             "team_number": "1678",
    #             "match_number": 42,
    #             "total_points": 50,
    #             "alliance_color_is_red": True,
    #         },
    #         {
    #             "team_number": "254",
    #             "match_number": 4,
    #             "total_points": 100,  # avg 254 score should be 120 normally
    #             "alliance_color_is_red": True,
    #         },
    #         {
    #             "team_number": "254",
    #             "match_number": 5,
    #             "total_points": 100000,
    #             "alliance_color_is_red": False,
    #         },
    #         {
    #             "team_number": "254",
    #             "match_number": 6,
    #             "total_points": 140,
    #             "alliance_color_is_red": True,
    #         },
    #         {
    #             "team_number": "254",
    #             "match_number": 42,
    #             "total_points": 60,
    #             "alliance_color_is_red": True,
    #         },
    #         {
    #             "team_number": "1323",
    #             "match_number": 7,
    #             "total_points": 90,  # avg 1323 score should be 110 normally
    #             "alliance_color_is_red": True,
    #         },
    #         {
    #             "team_number": "1323",
    #             "match_number": 8,
    #             "total_points": 110,
    #             "alliance_color_is_red": True,
    #         },
    #         {
    #             "team_number": "1323",
    #             "match_number": 9,
    #             "total_points": 130,
    #             "alliance_color_is_red": True,
    #         },
    #         {
    #             "team_number": "1323",
    #             "match_number": 42,
    #             "total_points": 80,
    #             "alliance_color_is_red": True,
    #         },
    #         {
    #             "team_number": "1234",
    #             "match_number": 42,
    #             "total_points": 0,
    #             "alliance_color_is_red": False,
    #         },
    #         {
    #             "team_number": "1234",
    #             "match_number": 69,
    #             "total_points": 0,
    #             "alliance_color_is_red": True,
    #         },
    #         {
    #             "team_number": "2345",
    #             "match_number": 1,
    #             "total_points": 0,
    #             "alliance_color_is_red": True,
    #         },
    #         {
    #             "team_number": "2345",
    #             "match_number": 2,
    #             "total_points": 0,
    #             "alliance_color_is_red": False,
    #         },
    #         {
    #             "team_number": "2345",
    #             "match_number": 5,
    #             "total_points": 0,
    #             "alliance_color_is_red": True,
    #         },
    #         {
    #             "team_number": "1678",
    #             "match_number": 69,
    #             "total_points": 70,
    #             "alliance_color_is_red": False,
    #         },
    #         {
    #             "team_number": "254",
    #             "match_number": 69,
    #             "total_points": 30,
    #             "alliance_color_is_red": False,
    #         },
    #         {
    #             "team_number": "3456",
    #             "match_number": 20,
    #             "total_points": 0,
    #             "alliance_color_is_red": True,
    #         },
    #         {
    #             "team_number": "2345",
    #             "match_number": 20,
    #             "total_points": 0,
    #             "alliance_color_is_red": False,
    #         },
    #         {
    #             "team_number": "3456",
    #             "match_number": 69,
    #             "total_points": 70,
    #             "alliance_color_is_red": False,
    #         },
    #     ]
    #     ss_tims = [
    #         {"team_number": "1234", "match_number": 42, "played_defense": True},
    #         {"team_number": "1234", "match_number": 69, "played_defense": True},
    #         {"team_number": "2345", "match_number": 1, "played_defense": True},
    #         {"team_number": "2345", "match_number": 2, "played_defense": True},
    #         {"team_number": "2345", "match_number": 5, "played_defense": True},
    #         {"team_number": "2345", "match_number": 20, "played_defense": True},
    #     ]
    #     obj_teams = []
    #     self.test_server.local_db.insert_documents("obj_tim", obj_tims)
    #     self.test_server.local_db.insert_documents("ss_tim", ss_tims)
    #     self.test_server.local_db.insert_documents("obj_team", obj_teams)

    #     assert (
    #         self.test_calc.calculate_avg_defense_points_subtracted(
    #             "1234", {"3456": {"team_number": "3456", "avg_total_points": 90}}
    #         )
    #         == 140.0
    #     )

    def test_run(self):
        """Tests run function from src/calculations/obj_team.py"""
        obj_tims = [
            # 254
            {
                "team_number": "254",
                "match_number": 3,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "tele_intake_poach": 0,
                "auto_net": 0,
                "auto_processor": 1,
                "auto_coral_L1": 1,
                "auto_coral_L2": 1,
                "auto_coral_L3": 0,
                "auto_coral_L4": 1,
                "auto_fail_net": 0,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 1,
                "auto_fail_coral_L2": 0,
                "auto_fail_coral_L3": 0,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 1,
                "auto_intake_reef": 0,
                "tele_net": 1,
                "tele_processor": 0,
                "tele_coral_L1": 0,
                "tele_coral_L2": 1,
                "tele_coral_L3": 1,
                "tele_coral_L4": 10,
                "tele_fail_net": 1,
                "tele_fail_processor": 0,
                "tele_fail_coral_L1": 0,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 0,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 1,
                "tele_intake_ground_algae": 1,
                "tele_intake_reef": 1,
                "auto_total_intakes_ground": 2,
                "auto_total_intakes": 3,
                "tele_total_intakes_ground": 15,
                "tele_total_intakes": 4,
                "auto_total_pieces": 4,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 26,
                "tele_incap": 73,
                "auto_total_points": 7,
                "tele_total_points": 5,
                "endgame_total_points": 4,
                "total_points": 5,
                "auto_drop_coral": 0,
                "auto_drop_algae": 0,
                "tele_drop_coral": 0,
                "tele_drop_algae": 9,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 6,
                "time_from_ground_to_reef": 8,
                "time_from_ground_to_net": 8,
                "time_from_ground_to_processor": 34,
                "time_from_reef_to_net": 4,
                "time_from_reef_to_processor": 8,
                "cage_level": "S",
                "cage_fail": False,
                "start_position": "1",
                "has_preload": True,
                "expected_cycle_time": 9.5,
                "expected_cycles": 21,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 2,
                "total_failed_pieces": 3,
                "scored_preload": True,
            },
            {
                "team_number": "254",
                "match_number": 4,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "tele_intake_poach": 0,
                "auto_net": 0,
                "auto_processor": 1,
                "auto_coral_L1": 2,
                "auto_coral_L2": 0,
                "auto_coral_L3": 0,
                "auto_coral_L4": 1,
                "auto_fail_net": 0,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 2,
                "auto_fail_coral_L2": 0,
                "auto_fail_coral_L3": 0,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 2,
                "auto_intake_reef": 0,
                "tele_net": 1,
                "tele_processor": 0,
                "tele_coral_L1": 0,
                "tele_coral_L2": 4,
                "tele_coral_L3": 1,
                "tele_coral_L4": 0,
                "tele_fail_net": 1,
                "tele_fail_processor": 9,
                "tele_fail_coral_L1": 8,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 0,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 1,
                "tele_intake_ground_algae": 1,
                "tele_intake_reef": 1,
                "auto_total_intakes_ground": 6,
                "auto_total_intakes": 3,
                "tele_total_intakes_ground": 2,
                "tele_total_intakes": 4,
                "auto_total_pieces": 4,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 5,
                "tele_incap": 11,
                "auto_total_points": 7,
                "tele_total_points": 5,
                "endgame_total_points": 2,
                "total_points": 5,
                "auto_drop_coral": 0,
                "auto_drop_algae": 1,
                "tele_drop_coral": 0,
                "tele_drop_algae": 0,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 6,
                "time_from_ground_to_reef": 8,
                "time_from_ground_to_net": 8,
                "time_from_ground_to_processor": 6,
                "time_from_reef_to_net": 4,
                "time_from_reef_to_processor": 8,
                "cage_level": "D",
                "cage_fail": False,
                "start_position": "2",
                "has_preload": True,
                "expected_cycle_time": 10,
                "expected_cycles": 20,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 3,
                "total_failed_pieces": 3,
                "scored_preload": True,
            },
            {
                "team_number": "254",
                "match_number": 5,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "tele_intake_poach": 0,
                "auto_net": 0,
                "auto_processor": 1,
                "auto_coral_L1": 1,
                "auto_coral_L2": 0,
                "auto_coral_L3": 0,
                "auto_coral_L4": 4,
                "auto_fail_net": 0,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 1,
                "auto_fail_coral_L2": 0,
                "auto_fail_coral_L3": 0,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 1,
                "auto_intake_reef": 4,
                "tele_net": 1,
                "tele_processor": 0,
                "tele_coral_L1": 0,
                "tele_coral_L2": 1,
                "tele_coral_L3": 1,
                "tele_coral_L4": 9,
                "tele_fail_net": 1,
                "tele_fail_processor": 0,
                "tele_fail_coral_L1": 0,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 0,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 1,
                "tele_intake_ground_algae": 10,
                "tele_intake_reef": 1,
                "auto_total_intakes_ground": 2,
                "auto_total_intakes": 3,
                "tele_total_intakes_ground": 2,
                "tele_total_intakes": 4,
                "auto_total_pieces": 4,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 7,
                "tele_incap": 16,
                "auto_total_points": 8,
                "tele_total_points": 5,
                "endgame_total_points": 4,
                "total_points": 5,
                "auto_drop_coral": 0,
                "auto_drop_algae": 0,
                "tele_drop_coral": 5,
                "tele_drop_algae": 0,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 6,
                "time_from_ground_to_reef": 10,
                "time_from_ground_to_net": 8,
                "time_from_ground_to_processor": 6,
                "time_from_reef_to_net": 7,
                "time_from_reef_to_processor": 8,
                "cage_level": "S",
                "cage_fail": False,
                "start_position": "3",
                "has_preload": True,
                "expected_cycle_time": 9.5,
                "expected_cycles": 20,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 2,
                "total_failed_pieces": 3,
                "scored_preload": True,
            },
            {
                "team_number": "254",
                "match_number": 6,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "tele_intake_poach": 0,
                "auto_net": 0,
                "auto_processor": 1,
                "auto_coral_L1": 1,
                "auto_coral_L2": 0,
                "auto_coral_L3": 6,
                "auto_coral_L4": 1,
                "auto_fail_net": 0,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 1,
                "auto_fail_coral_L2": 9,
                "auto_fail_coral_L3": 0,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 1,
                "auto_intake_reef": 21,
                "tele_net": 1,
                "tele_processor": 0,
                "tele_coral_L1": 0,
                "tele_coral_L2": 1,
                "tele_coral_L3": 1,
                "tele_coral_L4": 3,
                "tele_fail_net": 1,
                "tele_fail_processor": 0,
                "tele_fail_coral_L1": 0,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 7,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 1,
                "tele_intake_ground_algae": 1,
                "tele_intake_reef": 1,
                "auto_total_intakes_ground": 2,
                "auto_total_intakes": 8,
                "tele_total_intakes_ground": 2,
                "tele_total_intakes": 4,
                "auto_total_pieces": 12,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 7,
                "tele_incap": 0,
                "auto_total_points": 7,
                "tele_total_points": 5,
                "endgame_total_points": 4,
                "total_points": 5,
                "auto_drop_coral": 0,
                "auto_drop_algae": 9,
                "tele_drop_coral": 0,
                "tele_drop_algae": 0,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 12,
                "time_from_ground_to_reef": 11,
                "time_from_ground_to_net": 11,
                "time_from_ground_to_processor": 15,
                "time_from_reef_to_net": 4,
                "time_from_reef_to_processor": 8,
                "cage_level": "N",
                "cage_fail": True,
                "start_position": "2",
                "has_preload": True,
                "expected_cycle_time": 9.5,
                "expected_cycles": 20,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 2,
                "total_failed_pieces": 3,
                "scored_preload": True,
            },
            {
                "team_number": "254",
                "match_number": 7,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "tele_intake_poach": 0,
                "auto_net": 0,
                "auto_processor": 1,
                "auto_coral_L1": 1,
                "auto_coral_L2": 0,
                "auto_coral_L3": 0,
                "auto_coral_L4": 1,
                "auto_fail_net": 0,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 1,
                "auto_fail_coral_L2": 0,
                "auto_fail_coral_L3": 0,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 1,
                "auto_intake_reef": 0,
                "tele_net": 1,
                "tele_processor": 0,
                "tele_coral_L1": 0,
                "tele_coral_L2": 1,
                "tele_coral_L3": 1,
                "tele_coral_L4": 0,
                "tele_fail_net": 1,
                "tele_fail_processor": 0,
                "tele_fail_coral_L1": 0,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 0,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 1,
                "tele_intake_ground_algae": 1,
                "tele_intake_reef": 1,
                "auto_total_intakes_ground": 2,
                "auto_total_intakes": 3,
                "tele_total_intakes_ground": 2,
                "tele_total_intakes": 4,
                "auto_total_pieces": 4,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 7,
                "tele_incap": 73,
                "auto_total_points": 7,
                "tele_total_points": 5,
                "endgame_total_points": 4,
                "total_points": 5,
                "auto_drop_coral": 0,
                "auto_drop_algae": 0,
                "tele_drop_coral": 0,
                "tele_drop_algae": 0,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 6,
                "time_from_ground_to_reef": 8,
                "time_from_ground_to_net": 8,
                "time_from_ground_to_processor": 6,
                "time_from_reef_to_net": 4,
                "time_from_reef_to_processor": 8,
                "cage_level": "S",
                "cage_fail": False,
                "start_position": "2",
                "has_preload": True,
                "expected_cycle_time": 9.5,
                "expected_cycles": 20,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 2,
                "total_failed_pieces": 3,
                "scored_preload": True,
            },
            # 1678
            {
                "team_number": "1678",
                "match_number": 3,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "tele_intake_poach": 0,
                "auto_net": 5,
                "auto_processor": 2,
                "auto_coral_L1": 1,
                "auto_coral_L2": 1,
                "auto_coral_L3": 0,
                "auto_coral_L4": 1,
                "auto_fail_net": 0,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 1,
                "auto_fail_coral_L2": 0,
                "auto_fail_coral_L3": 0,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 1,
                "auto_intake_reef": 0,
                "tele_net": 1,
                "tele_processor": 0,
                "tele_coral_L1": 6,
                "tele_coral_L2": 1,
                "tele_coral_L3": 1,
                "tele_coral_L4": 9,
                "tele_fail_net": 1,
                "tele_fail_processor": 3,
                "tele_fail_coral_L1": 4,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 0,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 8,
                "tele_intake_ground_algae": 1,
                "tele_intake_reef": 1,
                "auto_total_intakes_ground": 2,
                "auto_total_intakes": 3,
                "tele_total_intakes_ground": 15,
                "tele_total_intakes": 4,
                "auto_total_pieces": 4,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 26,
                "tele_incap": 73,
                "auto_total_points": 7,
                "tele_total_points": 9,
                "endgame_total_points": 4,
                "total_points": 5,
                "auto_drop_coral": 0,
                "auto_drop_algae": 2,
                "tele_drop_coral": 3,
                "tele_drop_algae": 9,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 6,
                "time_from_ground_to_reef": 8,
                "time_from_ground_to_net": 10,
                "time_from_ground_to_processor": 34,
                "time_from_reef_to_net": 4,
                "time_from_reef_to_processor": 10,
                "cage_level": "S",
                "cage_fail": False,
                "start_position": "1",
                "has_preload": True,
                "expected_cycle_time": 11,
                "expected_cycles": 19,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 2,
                "total_failed_pieces": 3,
                "scored_preload": True,
            },
            {
                "team_number": "1678",
                "match_number": 4,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "tele_intake_poach": 0,
                "auto_net": 0,
                "auto_processor": 1,
                "auto_coral_L1": 2,
                "auto_coral_L2": 4,
                "auto_coral_L3": 6,
                "auto_coral_L4": 1,
                "auto_fail_net": 0,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 2,
                "auto_fail_coral_L2": 0,
                "auto_fail_coral_L3": 0,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 2,
                "auto_intake_reef": 0,
                "tele_net": 1,
                "tele_processor": 0,
                "tele_coral_L1": 0,
                "tele_coral_L2": 4,
                "tele_coral_L3": 1,
                "tele_coral_L4": 8,
                "tele_fail_net": 1,
                "tele_fail_processor": 9,
                "tele_fail_coral_L1": 8,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 3,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 1,
                "tele_intake_ground_algae": 1,
                "tele_intake_reef": 6,
                "auto_total_intakes_ground": 6,
                "auto_total_intakes": 3,
                "tele_total_intakes_ground": 2,
                "tele_total_intakes": 4,
                "auto_total_pieces": 5,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 5,
                "tele_incap": 11,
                "auto_total_points": 7,
                "tele_total_points": 1,
                "endgame_total_points": 2,
                "total_points": 5,
                "auto_drop_coral": 0,
                "auto_drop_algae": 1,
                "tele_drop_coral": 0,
                "tele_drop_algae": 1,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 6,
                "time_from_ground_to_reef": 8,
                "time_from_ground_to_net": 8,
                "time_from_ground_to_processor": 6,
                "time_from_reef_to_net": 4,
                "time_from_reef_to_processor": 8,
                "cage_level": "D",
                "cage_fail": False,
                "start_position": "2",
                "has_preload": True,
                "expected_cycle_time": 10,
                "expected_cycles": 20,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 3,
                "total_failed_pieces": 3,
                "scored_preload": True,
            },
            {
                "team_number": "1678",
                "match_number": 5,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "tele_intake_poach": 0,
                "auto_net": 0,
                "auto_processor": 1,
                "auto_coral_L1": 1,
                "auto_coral_L2": 2,
                "auto_coral_L3": 0,
                "auto_coral_L4": 4,
                "auto_fail_net": 2,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 1,
                "auto_fail_coral_L2": 0,
                "auto_fail_coral_L3": 6,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 1,
                "auto_intake_reef": 4,
                "tele_net": 1,
                "tele_processor": 0,
                "tele_coral_L1": 0,
                "tele_coral_L2": 1,
                "tele_coral_L3": 2,
                "tele_coral_L4": 9,
                "tele_fail_net": 1,
                "tele_fail_processor": 0,
                "tele_fail_coral_L1": 5,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 0,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 1,
                "tele_intake_ground_algae": 10,
                "tele_intake_reef": 1,
                "auto_total_intakes_ground": 2,
                "auto_total_intakes": 3,
                "tele_total_intakes_ground": 2,
                "tele_total_intakes": 4,
                "auto_total_pieces": 4,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 7,
                "tele_incap": 16,
                "auto_total_points": 8,
                "tele_total_points": 5,
                "endgame_total_points": 4,
                "total_points": 5,
                "auto_drop_coral": 0,
                "auto_drop_algae": 3,
                "tele_drop_coral": 5,
                "tele_drop_algae": 0,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 6,
                "time_from_ground_to_reef": 10,
                "time_from_ground_to_net": 8,
                "time_from_ground_to_processor": 6,
                "time_from_reef_to_net": 7,
                "time_from_reef_to_processor": 8,
                "cage_level": "S",
                "cage_fail": False,
                "start_position": "3",
                "has_preload": True,
                "expected_cycle_time": 9.5,
                "expected_cycles": 20,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 2,
                "total_failed_pieces": 3,
                "scored_preload": True,
            },
            {
                "team_number": "1678",
                "match_number": 6,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "tele_intake_poach": 0,
                "auto_net": 4,
                "auto_processor": 1,
                "auto_coral_L1": 1,
                "auto_coral_L2": 0,
                "auto_coral_L3": 6,
                "auto_coral_L4": 1,
                "auto_fail_net": 0,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 1,
                "auto_fail_coral_L2": 9,
                "auto_fail_coral_L3": 0,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 1,
                "auto_intake_reef": 21,
                "tele_net": 4,
                "tele_processor": 5,
                "tele_coral_L1": 0,
                "tele_coral_L2": 1,
                "tele_coral_L3": 1,
                "tele_coral_L4": 3,
                "tele_fail_net": 1,
                "tele_fail_processor": 0,
                "tele_fail_coral_L1": 0,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 7,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 9,
                "tele_intake_ground_algae": 1,
                "tele_intake_reef": 1,
                "auto_total_intakes_ground": 2,
                "auto_total_intakes": 8,
                "tele_total_intakes_ground": 2,
                "tele_total_intakes": 4,
                "auto_total_pieces": 12,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 7,
                "tele_incap": 0,
                "auto_total_points": 7,
                "tele_total_points": 5,
                "endgame_total_points": 4,
                "total_points": 5,
                "auto_drop_coral": 10,
                "auto_drop_algae": 9,
                "tele_drop_coral": 0,
                "tele_drop_algae": 0,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 12,
                "time_from_ground_to_reef": 11,
                "time_from_ground_to_net": 11,
                "time_from_ground_to_processor": 15,
                "time_from_reef_to_net": 4,
                "time_from_reef_to_processor": 8,
                "cage_level": "N",
                "cage_fail": True,
                "start_position": "2",
                "has_preload": True,
                "expected_cycle_time": 9.5,
                "expected_cycles": 20,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 2,
                "total_failed_pieces": 3,
                "scored_preload": True,
            },
            {
                "team_number": "1678",
                "match_number": 7,
                "alliance_color_is_red": True,
                "leave": True,
                "deep": True,
                "shallow": False,
                "park": False,
                "tele_intake_poach": 0,
                "auto_net": 0,
                "auto_processor": 1,
                "auto_coral_L1": 1,
                "auto_coral_L2": 2,
                "auto_coral_L3": 2,
                "auto_coral_L4": 2,
                "auto_fail_net": 0,
                "auto_fail_processor": 1,
                "auto_fail_coral_L1": 1,
                "auto_fail_coral_L2": 0,
                "auto_fail_coral_L3": 0,
                "auto_fail_coral_L4": 1,
                "auto_intake_ground_coral": 0,
                "auto_intake_ground_algae": 2,
                "auto_intake_station": 1,
                "auto_intake_reef": 0,
                "tele_net": 1,
                "tele_processor": 0,
                "tele_coral_L1": 0,
                "tele_coral_L2": 1,
                "tele_coral_L3": 1,
                "tele_coral_L4": 6,
                "tele_fail_net": 1,
                "tele_fail_processor": 0,
                "tele_fail_coral_L1": 0,
                "tele_fail_coral_L2": 1,
                "tele_fail_coral_L3": 1,
                "tele_fail_coral_L4": 0,
                "tele_intake_station": 1,
                "tele_intake_ground_coral": 1,
                "tele_intake_ground_algae": 1,
                "tele_intake_reef": 1,
                "auto_total_intakes_ground": 2,
                "auto_total_intakes": 3,
                "tele_total_intakes_ground": 2,
                "tele_total_intakes": 4,
                "auto_total_pieces": 4,
                "tele_total_pieces": 3,
                "total_pieces": 7,
                "total_intakes": 7,
                "tele_incap": 73,
                "auto_total_points": 7,
                "tele_total_points": 5,
                "endgame_total_points": 4,
                "total_points": 5,
                "auto_drop_coral": 0,
                "auto_drop_algae": 0,
                "tele_drop_coral": 0,
                "tele_drop_algae": 0,
                "median_cycle_time": 15,
                "time_from_station_to_reef": 6,
                "time_from_ground_to_reef": 8,
                "time_from_ground_to_net": 10,
                "time_from_ground_to_processor": 6,
                "time_from_reef_to_net": 10,
                "time_from_reef_to_processor": 8,
                "cage_level": "S",
                "cage_fail": False,
                "start_position": "1",
                "has_preload": True,
                "expected_cycle_time": 9.5,
                "expected_cycles": 20,
                "auto_total_failed_pieces": 1,
                "tele_total_failed_pieces": 2,
                "total_failed_pieces": 3,
                "scored_preload": True,
            },
        ]
        expected_results = [
            {
                "team_number": "254",
                "auto_avg_coral_L1": 1.2,
                "auto_avg_coral_L2": 0.2,
                "auto_avg_coral_L3": 1.2,
                "auto_avg_coral_L4": 1.6,
                "auto_avg_drop_algae": 2.0,
                "auto_avg_drop_coral": 0.0,
                "auto_avg_fail_coral_L1": 1.2,
                "auto_avg_fail_coral_L2": 1.8,
                "auto_avg_fail_coral_L3": 0.0,
                "auto_avg_fail_coral_L4": 1.0,
                "auto_avg_fail_net": 0.0,
                "auto_avg_fail_processor": 1.0,
                "auto_avg_intake_ground_algae": 2.0,
                "auto_avg_intake_ground_coral": 0.0,
                "auto_avg_intake_reef": 5.0,
                "auto_avg_intake_station": 1.2,
                "auto_avg_net": 0.0,
                "auto_avg_processor": 1.0,
                "auto_avg_total_failed_pieces": 1.0,
                "auto_avg_total_intakes": 4.0,
                "auto_avg_total_pieces": 5.6,
                "auto_avg_total_points": 7.2,
                "auto_coral_L1_percent_success": 0.5,
                "auto_coral_L2_percent_success": 0.1,
                "auto_coral_L3_percent_success": 1.0,
                "auto_coral_L4_percent_success": 0.6153846153846154,
                "auto_max_coral_L1": 2,
                "auto_max_coral_L2": 1,
                "auto_max_coral_L3": 6,
                "auto_max_coral_L4": 4,
                "auto_max_drop_algae": 9,
                "auto_max_drop_coral": 0,
                "auto_max_fail_coral_L1": 2,
                "auto_max_fail_coral_L2": 9,
                "auto_max_fail_coral_L3": 0,
                "auto_max_fail_coral_L4": 1,
                "auto_max_fail_net": 0,
                "auto_max_fail_processor": 1,
                "auto_max_intake_ground_algae": 2,
                "auto_max_intake_ground_coral": 0,
                "auto_max_intake_reef": 21,
                "auto_max_intake_station": 2,
                "auto_max_net": 0,
                "auto_max_processor": 1,
                "auto_max_total_failed_pieces": 1,
                "auto_max_total_intakes": 8,
                "auto_max_total_pieces": 12,
                "auto_max_total_points": 8,
                "auto_net_percent_success": None,
                "auto_preload_percent_success": 1.0,
                "auto_processor_percent_success": 0.5,
                "auto_sd_coral_L1": 0.4,
                "auto_sd_coral_L2": 0.4,
                "auto_sd_coral_L3": 2.4,
                "auto_sd_coral_L4": 1.2,
                "auto_sd_drop_algae": 3.521363372331802,
                "auto_sd_drop_coral": 0.0,
                "auto_sd_fail_coral_L1": 0.4,
                "auto_sd_fail_coral_L2": 3.6,
                "auto_sd_fail_coral_L3": 0.0,
                "auto_sd_fail_coral_L4": 0.0,
                "auto_sd_fail_net": 0.0,
                "auto_sd_fail_processor": 0.0,
                "auto_sd_intake_ground_algae": 0.0,
                "auto_sd_intake_ground_coral": 0.0,
                "auto_sd_intake_reef": 8.148619514985345,
                "auto_sd_intake_station": 0.4,
                "auto_sd_net": 0.0,
                "auto_sd_processor": 0.0,
                "auto_sd_total_failed_pieces": 0.0,
                "auto_sd_total_intakes": 2.0,
                "auto_sd_total_pieces": 3.2,
                "auto_sd_total_points": 0.4,
                "avg_expected_cycle_time": 9.6,
                "avg_expected_cycles": 20.2,
                "avg_total_failed_pieces": 3.0,
                "avg_total_intakes": 10.4,
                "avg_total_pieces": 7.0,
                "avg_total_points": 5.0,
                "cage_attempts_all": 4,
                "cage_attempts_deep": 1,
                "cage_attempts_shallow": 3,
                "cage_fails_all": 1,
                "cage_fails_deep": 0,
                "cage_fails_shallow": 0,
                "cage_percent_success_all": 1.0,
                "cage_percent_success_deep": 1.0,
                "cage_percent_success_shallow": 1.0,
                "cage_successes_all": 4,
                "cage_successes_deep": 1,
                "cage_successes_shallow": 3,
                "endgame_avg_total_points": 3.6,
                "endgame_max_total_points": 4,
                "endgame_sd_total_points": 0.8,
                "lfm_auto_avg_coral_L1": 1.25,
                "lfm_auto_avg_coral_L2": 0.0,
                "lfm_auto_avg_coral_L3": 1.5,
                "lfm_auto_avg_coral_L4": 1.75,
                "lfm_auto_avg_drop_algae": 2.5,
                "lfm_auto_avg_drop_coral": 0.0,
                "lfm_auto_avg_fail_coral_L1": 1.25,
                "lfm_auto_avg_fail_coral_L2": 2.25,
                "lfm_auto_avg_fail_coral_L3": 0.0,
                "lfm_auto_avg_fail_coral_L4": 1.0,
                "lfm_auto_avg_fail_net": 0.0,
                "lfm_auto_avg_fail_processor": 1.0,
                "auto_avg_intake_algae": 7.0,
                "auto_avg_intake_coral": 1.2,
                "lfm_auto_avg_intake_ground_algae": 2.0,
                "lfm_auto_avg_intake_ground_coral": 0.0,
                "lfm_auto_avg_intake_reef": 6.25,
                "lfm_auto_avg_intake_station": 1.25,
                "lfm_auto_avg_net": 0.0,
                "lfm_auto_avg_processor": 1.0,
                "lfm_auto_avg_total_failed_pieces": 1.0,
                "lfm_auto_avg_total_intakes": 4.25,
                "lfm_auto_avg_total_pieces": 6.0,
                "lfm_auto_avg_total_points": 7.25,
                "lfm_auto_coral_L1_percent_success": 0.5,
                "lfm_auto_coral_L2_percent_success": 0.1,
                "lfm_auto_coral_L3_percent_success": 1.0,
                "lfm_auto_coral_L4_percent_success": 0.6153846153846154,
                "lfm_auto_max_coral_L1": 2,
                "lfm_auto_max_coral_L2": 0,
                "lfm_auto_max_coral_L3": 6,
                "lfm_auto_max_coral_L4": 4,
                "lfm_auto_max_drop_algae": 9,
                "lfm_auto_max_drop_coral": 0,
                "lfm_auto_max_fail_coral_L1": 2,
                "lfm_auto_max_fail_coral_L2": 9,
                "lfm_auto_max_fail_coral_L3": 0,
                "lfm_auto_max_fail_coral_L4": 1,
                "lfm_auto_max_fail_net": 0,
                "lfm_auto_max_fail_processor": 1,
                "lfm_auto_max_intake_ground_algae": 2,
                "lfm_auto_max_intake_ground_coral": 0,
                "lfm_auto_max_intake_reef": 21,
                "lfm_auto_max_intake_station": 2,
                "lfm_auto_max_net": 0,
                "lfm_auto_max_processor": 1,
                "lfm_auto_max_total_failed_pieces": 1,
                "lfm_auto_max_total_intakes": 8,
                "lfm_auto_max_total_pieces": 12,
                "lfm_auto_max_total_points": 8,
                "lfm_auto_net_percent_success": None,
                "lfm_auto_preload_percent_success": 1.0,
                "lfm_auto_processor_percent_success": 0.5,
                "lfm_auto_sd_coral_L1": 0.4330127018922193,
                "lfm_auto_sd_coral_L2": 0.0,
                "lfm_auto_sd_coral_L3": 2.598076211353316,
                "lfm_auto_sd_coral_L4": 1.299038105676658,
                "lfm_auto_sd_drop_algae": 3.774917217635375,
                "lfm_auto_sd_drop_coral": 0.0,
                "lfm_auto_sd_fail_coral_L1": 0.4330127018922193,
                "lfm_auto_sd_fail_coral_L2": 3.897114317029974,
                "lfm_auto_sd_fail_coral_L3": 0.0,
                "lfm_auto_sd_fail_coral_L4": 0.0,
                "lfm_auto_sd_fail_net": 0.0,
                "lfm_auto_sd_fail_processor": 0.0,
                "lfm_auto_sd_intake_ground_algae": 0.0,
                "lfm_auto_sd_intake_ground_coral": 0.0,
                "lfm_auto_sd_intake_reef": 8.671072598012312,
                "lfm_auto_sd_intake_station": 0.4330127018922193,
                "lfm_auto_sd_net": 0.0,
                "lfm_auto_sd_processor": 0.0,
                "lfm_auto_sd_total_failed_pieces": 0.0,
                "lfm_auto_sd_total_intakes": 2.165063509461097,
                "lfm_auto_sd_total_pieces": 3.4641016151377544,
                "lfm_auto_sd_total_points": 0.4330127018922193,
                "lfm_avg_expected_cycle_time": 9.625,
                "lfm_avg_expected_cycles": 20.0,
                "lfm_avg_total_failed_pieces": 3.0,
                "lfm_avg_total_intakes": 6.5,
                "lfm_avg_total_pieces": 7.0,
                "lfm_avg_total_points": 5.0,
                "lfm_cage_attempts_all": 3,
                "lfm_cage_attempts_deep": 1,
                "lfm_cage_attempts_shallow": 2,
                "lfm_cage_fails_all": 1,
                "lfm_cage_fails_deep": 0,
                "lfm_cage_fails_shallow": 0,
                "lfm_cage_percent_success_all": 1.0,
                "lfm_cage_percent_success_deep": 1.0,
                "lfm_cage_percent_success_shallow": 1.0,
                "lfm_cage_successes_all": 3,
                "lfm_cage_successes_deep": 1,
                "lfm_cage_successes_shallow": 2,
                "lfm_endgame_avg_total_points": 3.5,
                "lfm_endgame_max_total_points": 4,
                "lfm_endgame_sd_total_points": 0.8660254037844386,
                "lfm_matches_incap": 3,
                "lfm_matches_played_defense": 0,
                "lfm_matches_with_broken_mechanism": 0,
                "lfm_max_expected_cycle_time": 10,
                "lfm_max_expected_cycles": 20,
                "lfm_max_tele_incap": 73,
                "lfm_max_total_intakes": 7,
                "lfm_max_total_pieces": 7,
                "lfm_max_total_points": 5,
                "lfm_median_nonzero_expected_cycle_time": 9.5,
                "lfm_median_nonzero_expected_cycles": 20.0,
                "lfm_median_nonzero_tele_incap": 16,
                "lfm_min_expected_cycle_time": 9.5,
                "lfm_mode_cage_level": ["S"],
                "lfm_mode_start_position": ["2"],
                "lfm_park_percent": 0.0,
                "lfm_parks": 0,
                "lfm_position_one_starts": 0,
                "lfm_position_three_starts": 1,
                "lfm_position_two_starts": 3,
                "lfm_position_zero_starts": 0,
                "lfm_preload_successes": 4,
                "lfm_preloaded_starts": 4,
                "lfm_sd_expected_cycle_time": 0.21650635094610965,
                "lfm_sd_expected_cycles": 0.0,
                "lfm_sd_total_failed_pieces": 0.0,
                "lfm_sd_total_intakes": 0.8660254037844386,
                "lfm_sd_total_pieces": 0.0,
                "lfm_sd_total_points": 0.0,
                "lfm_tele_avg_coral_L1": 0.0,
                "lfm_tele_avg_coral_L2": 1.75,
                "lfm_tele_avg_coral_L3": 1.0,
                "lfm_tele_avg_coral_L4": 3.0,
                "lfm_tele_avg_fail_coral_L1": 2.0,
                "lfm_tele_avg_fail_coral_L2": 1.0,
                "lfm_tele_avg_fail_coral_L3": 1.0,
                "lfm_tele_avg_fail_coral_L4": 1.75,
                "lfm_tele_avg_fail_net": 1.0,
                "lfm_tele_avg_fail_processor": 2.25,
                "lfm_tele_avg_incap": 25.0,
                "lfm_tele_avg_intake_ground_algae": 3.25,
                "lfm_tele_avg_intake_ground_coral": 1.0,
                "lfm_tele_avg_intake_reef": 1.0,
                "lfm_tele_avg_intake_station": 1.0,
                "lfm_tele_avg_net": 1.0,
                "lfm_tele_avg_processor": 0.0,
                "lfm_tele_avg_total_failed_pieces": 2.25,
                "lfm_tele_avg_total_intakes": 4.0,
                "lfm_tele_avg_total_pieces": 3.0,
                "lfm_tele_avg_total_points": 5.0,
                "lfm_tele_coral_L1_percent_success": 0.0,
                "lfm_tele_coral_L2_percent_success": 0.6153846153846154,
                "lfm_tele_coral_L3_percent_success": 0.5,
                "lfm_tele_coral_L4_percent_success": 0.7586206896551724,
                "lfm_tele_max_coral_L1": 0,
                "lfm_tele_max_coral_L2": 4,
                "lfm_tele_max_coral_L3": 1,
                "lfm_tele_max_coral_L4": 9,
                "lfm_tele_max_drop_algae": 0,
                "lfm_tele_max_drop_coral": 5,
                "lfm_tele_max_fail_coral_L1": 8,
                "lfm_tele_max_fail_coral_L2": 1,
                "lfm_tele_max_fail_coral_L3": 1,
                "lfm_tele_max_fail_coral_L4": 7,
                "lfm_tele_max_fail_net": 1,
                "lfm_tele_max_fail_processor": 9,
                "lfm_tele_max_intake_ground_algae": 10,
                "lfm_tele_max_intake_ground_coral": 1,
                "lfm_tele_max_intake_reef": 1,
                "lfm_tele_max_intake_station": 1,
                "lfm_tele_max_net": 1,
                "lfm_tele_max_processor": 0,
                "lfm_tele_max_total_failed_pieces": 3,
                "lfm_tele_max_total_intakes": 4,
                "lfm_tele_max_total_pieces": 3,
                "lfm_tele_max_total_points": 5,
                "lfm_tele_net_percent_success": 0.5,
                "lfm_tele_processor_percent_success": 0.0,
                "lfm_tele_sd_coral_L1": 0.0,
                "lfm_tele_sd_coral_L2": 1.299038105676658,
                "lfm_tele_sd_coral_L3": 0.0,
                "lfm_tele_sd_coral_L4": 3.6742346141747673,
                "lfm_tele_sd_fail_coral_L1": 3.4641016151377544,
                "lfm_tele_sd_fail_coral_L2": 0.0,
                "lfm_tele_sd_fail_coral_L3": 0.0,
                "lfm_tele_sd_fail_coral_L4": 3.031088913245535,
                "lfm_tele_sd_fail_net": 0.0,
                "lfm_tele_sd_fail_processor": 3.897114317029974,
                "lfm_tele_sd_incap": 28.310775333784132,
                "lfm_tele_sd_intake_ground_algae": 3.897114317029974,
                "lfm_tele_sd_intake_ground_coral": 0.0,
                "lfm_tele_sd_intake_reef": 0.0,
                "lfm_tele_sd_intake_station": 0.0,
                "lfm_tele_sd_net": 0.0,
                "lfm_tele_sd_processor": 0.0,
                "lfm_tele_sd_total_failed_pieces": 0.4330127018922193,
                "lfm_tele_sd_total_intakes": 0.0,
                "lfm_tele_sd_total_points": 0.0,
                "lfm_total_incap_time": 100,
                "matches_incap": 4,
                "matches_played": 5,
                "matches_played_defense": 0,
                "matches_with_broken_mechanism": 0,
                "max_expected_cycle_time": 10,
                "max_expected_cycles": 21,
                "max_tele_incap": 73,
                "max_total_intakes": 26,
                "max_total_pieces": 7,
                "max_total_points": 5,
                "median_nonzero_expected_cycle_time": 9.5,
                "median_nonzero_expected_cycles": 20,
                "median_nonzero_tele_incap": 44.5,
                "min_expected_cycle_time": 9.5,
                "mode_cage_level": ["S"],
                "mode_start_position": ["2"],
                "park_percent": 0.0,
                "parks": 0,
                "position_one_starts": 1,
                "position_three_starts": 1,
                "position_two_starts": 3,
                "position_zero_starts": 0,
                "preload_successes": 5,
                "preloaded_starts": 5,
                "sd_expected_cycle_time": 0.2,
                "sd_expected_cycles": 0.4,
                "sd_total_failed_pieces": 0.0,
                "sd_total_intakes": 7.83836717690617,
                "sd_total_pieces": 0.0,
                "sd_total_points": 0.0,
                "tele_avg_coral_L1": 0.0,
                "tele_avg_coral_L2": 1.6,
                "tele_avg_coral_L3": 1.0,
                "tele_avg_coral_L4": 4.4,
                "tele_avg_fail_coral_L1": 1.6,
                "tele_avg_fail_coral_L2": 1.0,
                "tele_avg_fail_coral_L3": 1.0,
                "tele_avg_fail_coral_L4": 1.4,
                "tele_avg_fail_net": 1.0,
                "tele_avg_fail_processor": 1.8,
                "tele_avg_incap": 34.6,
                "tele_avg_intake_algae": 3.8,
                "tele_avg_intake_coral": 2.0,
                "tele_avg_intake_ground_algae": 2.8,
                "tele_avg_intake_ground_coral": 1.0,
                "tele_avg_intake_reef": 1.0,
                "tele_avg_intake_station": 1.0,
                "tele_avg_net": 1.0,
                "tele_avg_processor": 0.0,
                "tele_avg_total_failed_pieces": 2.2,
                "tele_avg_total_intakes": 4.0,
                "tele_avg_total_pieces": 3.0,
                "tele_avg_total_points": 5.0,
                "tele_coral_L1_percent_success": 0.0,
                "tele_coral_L2_percent_success": 0.6153846153846154,
                "tele_coral_L3_percent_success": 0.6153846153846154,
                "tele_coral_L4_percent_success": 0.6153846153846154,
                "tele_max_coral_L1": 0,
                "tele_max_coral_L2": 4,
                "tele_max_coral_L3": 1,
                "tele_max_coral_L4": 10,
                "tele_max_drop_algae": 9,
                "tele_max_drop_coral": 5,
                "tele_max_fail_coral_L1": 8,
                "tele_max_fail_coral_L2": 1,
                "tele_max_fail_coral_L3": 1,
                "tele_max_fail_coral_L4": 7,
                "tele_max_fail_net": 1,
                "tele_max_fail_processor": 9,
                "tele_max_intake_ground_algae": 10,
                "tele_max_intake_ground_coral": 1,
                "tele_max_intake_reef": 1,
                "tele_max_intake_station": 1,
                "tele_max_net": 1,
                "tele_max_processor": 0,
                "tele_max_total_failed_pieces": 3,
                "tele_max_total_intakes": 4,
                "tele_max_total_pieces": 3,
                "tele_max_total_points": 5,
                "tele_net_percent_success": 0.5,
                "tele_processor_percent_success": 0.0,
                "tele_sd_coral_L1": 0.0,
                "tele_sd_coral_L2": 1.2,
                "tele_sd_coral_L3": 0.0,
                "tele_sd_coral_L4": 4.317406628984581,
                "tele_sd_fail_coral_L1": 3.2,
                "tele_sd_fail_coral_L2": 0.0,
                "tele_sd_fail_coral_L3": 0.0,
                "tele_sd_fail_coral_L4": 2.8,
                "tele_sd_fail_net": 0.0,
                "tele_sd_fail_processor": 3.6,
                "tele_sd_incap": 31.777979797337654,
                "tele_sd_intake_ground_algae": 3.6,
                "tele_sd_intake_ground_coral": 0.0,
                "tele_sd_intake_reef": 0.0,
                "tele_sd_intake_station": 0.0,
                "tele_sd_net": 0.0,
                "tele_sd_processor": 0.0,
                "tele_sd_total_failed_pieces": 0.4,
                "tele_sd_total_intakes": 0.0,
                "tele_sd_total_points": 0.0,
                "total_incap_time": 173,
                "tele_sd_drop_algae": 3.6,
                "tele_sd_drop_coral": 2.0,
                "tele_avg_drop_algae": 1.8,
                "tele_avg_drop_coral": 1.0,
                "position_four_starts": 0,
                "lfm_position_four_starts": 0,
                "position_five_starts": 0,
                "lfm_position_five_starts": 0,
                "lfm_tele_sd_drop_algae": 0.0,
                "lfm_tele_sd_drop_coral": 2.165063509461097,
                "lfm_tele_avg_drop_algae": 0.0,
                "lfm_tele_avg_drop_coral": 1.25,
                "architecture": None,
                "electrical_robustness": None,
                "has_compatible_auto": False,
                "lfm_matches_played_against_defense": 0,
                "lfm_tele_avg_intake_poach": 0.0,
                "lfm_tele_avg_total_nonzero_pieces": 3.0,
                "lfm_tele_sd_total_pieces": 0.0,
                "matches_played_against_defense": 0,
                "matches_with_data": "5/0",
                "matt_drivetrain": None,
                "matt_notes": None,
                "mechanical_robustness": None,
                "min_expected_cycles": 20,
                "robot_complexity": None,
                "tele_avg_intake_poach": 0.0,
                "tele_avg_total_nonzero_pieces": 3.0,
                "tele_sd_total_pieces": 0.0,
            },
            {
                "auto_avg_coral_L1": 1.2,
                "auto_avg_coral_L2": 1.8,
                "auto_avg_coral_L3": 2.8,
                "auto_avg_coral_L4": 1.8,
                "auto_avg_drop_algae": 3.0,
                "auto_avg_drop_coral": 2.0,
                "auto_avg_fail_coral_L1": 1.2,
                "auto_avg_fail_coral_L2": 1.8,
                "auto_avg_fail_coral_L3": 1.2,
                "auto_avg_fail_coral_L4": 1.0,
                "auto_avg_fail_net": 0.4,
                "auto_avg_fail_processor": 1.0,
                "auto_avg_intake_algae": 7.0,
                "auto_avg_intake_coral": 1.2,
                "auto_avg_intake_ground_algae": 2.0,
                "auto_avg_intake_ground_coral": 0.0,
                "auto_avg_intake_reef": 5.0,
                "auto_avg_intake_station": 1.2,
                "auto_avg_net": 1.8,
                "auto_avg_processor": 1.2,
                "auto_avg_total_failed_pieces": 1.0,
                "auto_avg_total_intakes": 4.0,
                "auto_avg_total_pieces": 5.8,
                "auto_avg_total_points": 7.2,
                "auto_coral_L1_percent_success": 0.5,
                "auto_coral_L2_percent_success": 0.5,
                "auto_coral_L3_percent_success": 0.7,
                "auto_coral_L4_percent_success": 0.6428571428571429,
                "auto_max_coral_L1": 2,
                "auto_max_coral_L2": 4,
                "auto_max_coral_L3": 6,
                "auto_max_coral_L4": 4,
                "auto_max_drop_algae": 9,
                "auto_max_drop_coral": 10,
                "auto_max_fail_coral_L1": 2,
                "auto_max_fail_coral_L2": 9,
                "auto_max_fail_coral_L3": 6,
                "auto_max_fail_coral_L4": 1,
                "auto_max_fail_net": 2,
                "auto_max_fail_processor": 1,
                "auto_max_intake_ground_algae": 2,
                "auto_max_intake_ground_coral": 0,
                "auto_max_intake_reef": 21,
                "auto_max_intake_station": 2,
                "auto_max_net": 5,
                "auto_max_processor": 2,
                "auto_max_total_failed_pieces": 1,
                "auto_max_total_intakes": 8,
                "auto_max_total_pieces": 12,
                "auto_max_total_points": 8,
                "auto_net_percent_success": 0.8181818181818181,
                "auto_preload_percent_success": 1.0,
                "auto_processor_percent_success": 0.5454545454545454,
                "auto_sd_coral_L1": 0.4,
                "auto_sd_coral_L2": 1.3266499161421599,
                "auto_sd_coral_L3": 2.7129319932501073,
                "auto_sd_coral_L4": 1.1661903789690602,
                "auto_sd_drop_algae": 3.1622776601683795,
                "auto_sd_drop_coral": 4.0,
                "auto_sd_fail_coral_L1": 0.4,
                "auto_sd_fail_coral_L2": 3.6,
                "auto_sd_fail_coral_L3": 2.4,
                "auto_sd_fail_coral_L4": 0.0,
                "auto_sd_fail_net": 0.8,
                "auto_sd_fail_processor": 0.0,
                "auto_sd_intake_ground_algae": 0.0,
                "auto_sd_intake_ground_coral": 0.0,
                "auto_sd_intake_reef": 8.148619514985345,
                "auto_sd_intake_station": 0.4,
                "auto_sd_net": 2.227105745132009,
                "auto_sd_processor": 0.4,
                "auto_sd_total_failed_pieces": 0.0,
                "auto_sd_total_intakes": 2.0,
                "auto_sd_total_pieces": 3.1240998703626617,
                "auto_sd_total_points": 0.4,
                "avg_expected_cycle_time": 9.9,
                "avg_expected_cycles": 19.8,
                "avg_total_failed_pieces": 3.0,
                "avg_total_intakes": 10.4,
                "avg_total_pieces": 7.0,
                "avg_total_points": 5.0,
                "cage_attempts_all": 4,
                "cage_attempts_deep": 1,
                "cage_attempts_shallow": 3,
                "cage_fails_all": 1,
                "cage_fails_deep": 0,
                "cage_fails_shallow": 0,
                "cage_percent_success_all": 1.0,
                "cage_percent_success_deep": 1.0,
                "cage_percent_success_shallow": 1.0,
                "cage_successes_all": 4,
                "cage_successes_deep": 1,
                "cage_successes_shallow": 3,
                "endgame_avg_total_points": 3.6,
                "endgame_max_total_points": 4,
                "endgame_sd_total_points": 0.8,
                "lfm_auto_avg_coral_L1": 1.25,
                "lfm_auto_avg_coral_L2": 2.0,
                "lfm_auto_avg_coral_L3": 3.5,
                "lfm_auto_avg_coral_L4": 2.0,
                "lfm_auto_avg_drop_algae": 3.25,
                "lfm_auto_avg_drop_coral": 2.5,
                "lfm_auto_avg_fail_coral_L1": 1.25,
                "lfm_auto_avg_fail_coral_L2": 2.25,
                "lfm_auto_avg_fail_coral_L3": 1.5,
                "lfm_auto_avg_fail_coral_L4": 1.0,
                "lfm_auto_avg_fail_net": 0.5,
                "lfm_auto_avg_fail_processor": 1.0,
                "lfm_auto_avg_intake_ground_algae": 2.0,
                "lfm_auto_avg_intake_ground_coral": 0.0,
                "lfm_auto_avg_intake_reef": 6.25,
                "lfm_auto_avg_intake_station": 1.25,
                "lfm_auto_avg_net": 1.0,
                "lfm_auto_avg_processor": 1.0,
                "lfm_auto_avg_total_failed_pieces": 1.0,
                "lfm_auto_avg_total_intakes": 4.25,
                "lfm_auto_avg_total_pieces": 6.25,
                "lfm_auto_avg_total_points": 7.25,
                "lfm_auto_coral_L1_percent_success": 0.5,
                "lfm_auto_coral_L2_percent_success": 0.5,
                "lfm_auto_coral_L3_percent_success": 0.7,
                "lfm_auto_coral_L4_percent_success": 0.6428571428571429,
                "lfm_auto_max_coral_L1": 2,
                "lfm_auto_max_coral_L2": 4,
                "lfm_auto_max_coral_L3": 6,
                "lfm_auto_max_coral_L4": 4,
                "lfm_auto_max_drop_algae": 9,
                "lfm_auto_max_drop_coral": 10,
                "lfm_auto_max_fail_coral_L1": 2,
                "lfm_auto_max_fail_coral_L2": 9,
                "lfm_auto_max_fail_coral_L3": 6,
                "lfm_auto_max_fail_coral_L4": 1,
                "lfm_auto_max_fail_net": 2,
                "lfm_auto_max_fail_processor": 1,
                "lfm_auto_max_intake_ground_algae": 2,
                "lfm_auto_max_intake_ground_coral": 0,
                "lfm_auto_max_intake_reef": 21,
                "lfm_auto_max_intake_station": 2,
                "lfm_auto_max_net": 4,
                "lfm_auto_max_processor": 1,
                "lfm_auto_max_total_failed_pieces": 1,
                "lfm_auto_max_total_intakes": 8,
                "lfm_auto_max_total_pieces": 12,
                "lfm_auto_max_total_points": 8,
                "lfm_auto_net_percent_success": 0.8181818181818181,
                "lfm_auto_preload_percent_success": 1.0,
                "lfm_auto_processor_percent_success": 0.5454545454545454,
                "lfm_auto_sd_coral_L1": 0.4330127018922193,
                "lfm_auto_sd_coral_L2": 1.4142135623730951,
                "lfm_auto_sd_coral_L3": 2.598076211353316,
                "lfm_auto_sd_coral_L4": 1.224744871391589,
                "lfm_auto_sd_drop_algae": 3.491060010942235,
                "lfm_auto_sd_drop_coral": 4.330127018922194,
                "lfm_auto_sd_fail_coral_L1": 0.4330127018922193,
                "lfm_auto_sd_fail_coral_L2": 3.897114317029974,
                "lfm_auto_sd_fail_coral_L3": 2.598076211353316,
                "lfm_auto_sd_fail_coral_L4": 0.0,
                "lfm_auto_sd_fail_net": 0.8660254037844386,
                "lfm_auto_sd_fail_processor": 0.0,
                "lfm_auto_sd_intake_ground_algae": 0.0,
                "lfm_auto_sd_intake_ground_coral": 0.0,
                "lfm_auto_sd_intake_reef": 8.671072598012312,
                "lfm_auto_sd_intake_station": 0.4330127018922193,
                "lfm_auto_sd_net": 1.7320508075688772,
                "lfm_auto_sd_processor": 0.0,
                "lfm_auto_sd_total_failed_pieces": 0.0,
                "lfm_auto_sd_total_intakes": 2.165063509461097,
                "lfm_auto_sd_total_pieces": 3.344772040064913,
                "lfm_auto_sd_total_points": 0.4330127018922193,
                "lfm_avg_expected_cycle_time": 9.625,
                "lfm_avg_expected_cycles": 20.0,
                "lfm_avg_total_failed_pieces": 3.0,
                "lfm_avg_total_intakes": 6.5,
                "lfm_avg_total_pieces": 7.0,
                "lfm_avg_total_points": 5.0,
                "lfm_cage_attempts_all": 3,
                "lfm_cage_attempts_deep": 1,
                "lfm_cage_attempts_shallow": 2,
                "lfm_cage_fails_all": 1,
                "lfm_cage_fails_deep": 0,
                "lfm_cage_fails_shallow": 0,
                "lfm_cage_percent_success_all": 1.0,
                "lfm_cage_percent_success_deep": 1.0,
                "lfm_cage_percent_success_shallow": 1.0,
                "lfm_cage_successes_all": 3,
                "lfm_cage_successes_deep": 1,
                "lfm_cage_successes_shallow": 2,
                "lfm_endgame_avg_total_points": 3.5,
                "lfm_endgame_max_total_points": 4,
                "lfm_endgame_sd_total_points": 0.8660254037844386,
                "lfm_matches_incap": 3,
                "lfm_matches_played_defense": 0,
                "lfm_matches_with_broken_mechanism": 0,
                "lfm_max_expected_cycle_time": 10,
                "lfm_max_expected_cycles": 20,
                "lfm_max_tele_incap": 73,
                "lfm_max_total_intakes": 7,
                "lfm_max_total_pieces": 7,
                "lfm_max_total_points": 5,
                "lfm_median_nonzero_expected_cycle_time": 9.5,
                "lfm_median_nonzero_expected_cycles": 20.0,
                "lfm_median_nonzero_tele_incap": 16,
                "lfm_min_expected_cycle_time": 9.5,
                "lfm_mode_cage_level": ["S"],
                "lfm_mode_start_position": ["2"],
                "lfm_park_percent": 0.0,
                "lfm_parks": 0,
                "lfm_position_one_starts": 1,
                "lfm_position_three_starts": 1,
                "lfm_position_two_starts": 2,
                "lfm_position_zero_starts": 0,
                "lfm_preload_successes": 4,
                "lfm_preloaded_starts": 4,
                "lfm_sd_expected_cycle_time": 0.21650635094610965,
                "lfm_sd_expected_cycles": 0.0,
                "lfm_sd_total_failed_pieces": 0.0,
                "lfm_sd_total_intakes": 0.8660254037844386,
                "lfm_sd_total_pieces": 0.0,
                "lfm_sd_total_points": 0.0,
                "lfm_tele_avg_coral_L1": 0.0,
                "lfm_tele_avg_coral_L2": 1.75,
                "lfm_tele_avg_coral_L3": 1.25,
                "lfm_tele_avg_coral_L4": 6.5,
                "lfm_tele_avg_fail_coral_L1": 3.25,
                "lfm_tele_avg_fail_coral_L2": 1.0,
                "lfm_tele_avg_fail_coral_L3": 1.0,
                "lfm_tele_avg_fail_coral_L4": 2.5,
                "lfm_tele_avg_fail_net": 1.0,
                "lfm_tele_avg_fail_processor": 2.25,
                "lfm_tele_avg_incap": 25.0,
                "lfm_tele_avg_intake_ground_algae": 3.25,
                "lfm_tele_avg_intake_ground_coral": 3.0,
                "lfm_tele_avg_intake_reef": 2.25,
                "lfm_tele_avg_intake_station": 1.0,
                "lfm_tele_avg_net": 1.75,
                "lfm_tele_avg_processor": 1.25,
                "lfm_tele_avg_total_failed_pieces": 2.25,
                "lfm_tele_avg_total_intakes": 4.0,
                "lfm_tele_avg_total_pieces": 3.0,
                "lfm_tele_avg_total_points": 4.0,
                "lfm_tele_coral_L1_percent_success": 0.2608695652173913,
                "lfm_tele_coral_L2_percent_success": 0.6153846153846154,
                "lfm_tele_coral_L3_percent_success": 0.5454545454545454,
                "lfm_tele_coral_L4_percent_success": 0.7777777777777778,
                "lfm_tele_max_coral_L1": 0,
                "lfm_tele_max_coral_L2": 4,
                "lfm_tele_max_coral_L3": 2,
                "lfm_tele_max_coral_L4": 9,
                "lfm_tele_max_drop_algae": 1,
                "lfm_tele_max_drop_coral": 5,
                "lfm_tele_max_fail_coral_L1": 8,
                "lfm_tele_max_fail_coral_L2": 1,
                "lfm_tele_max_fail_coral_L3": 1,
                "lfm_tele_max_fail_coral_L4": 7,
                "lfm_tele_max_fail_net": 1,
                "lfm_tele_max_fail_processor": 9,
                "lfm_tele_max_intake_ground_algae": 10,
                "lfm_tele_max_intake_ground_coral": 9,
                "lfm_tele_max_intake_reef": 6,
                "lfm_tele_max_intake_station": 1,
                "lfm_tele_max_net": 4,
                "lfm_tele_max_processor": 5,
                "lfm_tele_max_total_failed_pieces": 3,
                "lfm_tele_max_total_intakes": 4,
                "lfm_tele_max_total_pieces": 3,
                "lfm_tele_max_total_points": 5,
                "lfm_tele_net_percent_success": 0.6153846153846154,
                "lfm_tele_processor_percent_success": 0.29411764705882354,
                "lfm_tele_sd_coral_L1": 0.0,
                "lfm_tele_sd_coral_L2": 1.299038105676658,
                "lfm_tele_sd_coral_L3": 0.4330127018922193,
                "lfm_tele_sd_coral_L4": 2.29128784747792,
                "lfm_tele_sd_fail_coral_L1": 3.418698582794336,
                "lfm_tele_sd_fail_coral_L2": 0.0,
                "lfm_tele_sd_fail_coral_L3": 0.0,
                "lfm_tele_sd_fail_coral_L4": 2.8722813232690143,
                "lfm_tele_sd_fail_net": 0.0,
                "lfm_tele_sd_fail_processor": 3.897114317029974,
                "lfm_tele_sd_incap": 28.310775333784132,
                "lfm_tele_sd_intake_ground_algae": 3.897114317029974,
                "lfm_tele_sd_intake_ground_coral": 3.4641016151377544,
                "lfm_tele_sd_intake_reef": 2.165063509461097,
                "lfm_tele_sd_intake_station": 0.0,
                "lfm_tele_sd_net": 1.299038105676658,
                "lfm_tele_sd_processor": 2.165063509461097,
                "lfm_tele_sd_total_failed_pieces": 0.4330127018922193,
                "lfm_tele_sd_total_intakes": 0.0,
                "lfm_tele_sd_total_points": 1.7320508075688772,
                "lfm_total_incap_time": 100,
                "matches_incap": 4,
                "matches_played": 5,
                "matches_played_defense": 0,
                "matches_with_broken_mechanism": 0,
                "max_expected_cycle_time": 11,
                "max_expected_cycles": 20,
                "max_tele_incap": 73,
                "max_total_intakes": 26,
                "max_total_pieces": 7,
                "max_total_points": 5,
                "median_nonzero_expected_cycle_time": 9.5,
                "median_nonzero_expected_cycles": 20,
                "median_nonzero_tele_incap": 44.5,
                "min_expected_cycle_time": 9.5,
                "mode_cage_level": ["S"],
                "mode_start_position": ["1", "2"],
                "park_percent": 0.0,
                "parks": 0,
                "position_one_starts": 2,
                "position_three_starts": 1,
                "position_two_starts": 2,
                "position_zero_starts": 0,
                "preload_successes": 5,
                "preloaded_starts": 5,
                "sd_expected_cycle_time": 0.5830951894845301,
                "sd_expected_cycles": 0.4,
                "sd_total_failed_pieces": 0.0,
                "sd_total_intakes": 7.83836717690617,
                "sd_total_pieces": 0.0,
                "sd_total_points": 0.0,
                "team_number": "1678",
                "tele_avg_coral_L1": 1.2,
                "tele_avg_coral_L2": 1.6,
                "tele_avg_coral_L3": 1.2,
                "tele_avg_coral_L4": 7.0,
                "tele_avg_fail_coral_L1": 3.4,
                "tele_avg_fail_coral_L2": 1.0,
                "tele_avg_fail_coral_L3": 1.0,
                "tele_avg_fail_coral_L4": 2.0,
                "tele_avg_fail_net": 1.0,
                "tele_avg_fail_processor": 2.4,
                "tele_avg_incap": 34.6,
                "tele_avg_intake_algae": 4.8,
                "tele_avg_intake_coral": 5.0,
                "tele_avg_intake_ground_algae": 2.8,
                "tele_avg_intake_ground_coral": 4.0,
                "tele_avg_intake_reef": 2.0,
                "tele_avg_intake_station": 1.0,
                "tele_avg_net": 1.6,
                "tele_avg_processor": 1.0,
                "tele_avg_total_failed_pieces": 2.2,
                "tele_avg_total_intakes": 4.0,
                "tele_avg_total_pieces": 3.0,
                "tele_avg_total_points": 5.0,
                "tele_coral_L1_percent_success": 0.2608695652173913,
                "tele_coral_L2_percent_success": 0.6153846153846154,
                "tele_coral_L3_percent_success": 0.6153846153846154,
                "tele_coral_L4_percent_success": 0.6153846153846154,
                "tele_max_coral_L1": 6,
                "tele_max_coral_L2": 4,
                "tele_max_coral_L3": 2,
                "tele_max_coral_L4": 9,
                "tele_max_drop_algae": 9,
                "tele_max_drop_coral": 5,
                "tele_max_fail_coral_L1": 8,
                "tele_max_fail_coral_L2": 1,
                "tele_max_fail_coral_L3": 1,
                "tele_max_fail_coral_L4": 7,
                "tele_max_fail_net": 1,
                "tele_max_fail_processor": 9,
                "tele_max_intake_ground_algae": 10,
                "tele_max_intake_ground_coral": 9,
                "tele_max_intake_reef": 6,
                "tele_max_intake_station": 1,
                "tele_max_net": 4,
                "tele_max_processor": 5,
                "tele_max_total_failed_pieces": 3,
                "tele_max_total_intakes": 4,
                "tele_max_total_pieces": 3,
                "tele_max_total_points": 9,
                "tele_net_percent_success": 0.6153846153846154,
                "tele_processor_percent_success": 0.29411764705882354,
                "tele_sd_coral_L1": 2.4,
                "tele_sd_coral_L2": 1.2,
                "tele_sd_coral_L3": 0.4,
                "tele_sd_coral_L4": 2.280350850198276,
                "tele_sd_fail_coral_L1": 3.0724582991474434,
                "tele_sd_fail_coral_L2": 0.0,
                "tele_sd_fail_coral_L3": 0.0,
                "tele_sd_fail_coral_L4": 2.756809750418044,
                "tele_sd_fail_net": 0.0,
                "tele_sd_fail_processor": 3.4985711369071804,
                "tele_sd_incap": 31.777979797337654,
                "tele_sd_intake_ground_algae": 3.6,
                "tele_sd_intake_ground_coral": 3.687817782917155,
                "tele_sd_intake_reef": 2.0,
                "tele_sd_intake_station": 0.0,
                "tele_sd_net": 1.2,
                "tele_sd_processor": 2.0,
                "tele_sd_total_failed_pieces": 0.4,
                "tele_sd_total_intakes": 0.0,
                "tele_sd_total_points": 2.5298221281347035,
                "total_incap_time": 173,
                "tele_sd_drop_algae": 3.521363372331802,
                "tele_sd_drop_coral": 2.0591260281974,
                "tele_avg_drop_algae": 2.0,
                "tele_avg_drop_coral": 1.6,
                "position_four_starts": 0,
                "position_five_starts": 0,
                "lfm_tele_sd_drop_algae": 0.4330127018922193,
                "lfm_tele_sd_drop_coral": 2.165063509461097,
                "lfm_tele_avg_drop_algae": 0.25,
                "lfm_tele_avg_drop_coral": 1.25,
                "lfm_position_four_starts": 0,
                "lfm_position_five_starts": 0,
                "architecture": None,
                "electrical_robustness": None,
                "has_compatible_auto": False,
                "lfm_matches_played_against_defense": 0,
                "lfm_tele_avg_intake_poach": 0.0,
                "lfm_tele_avg_total_nonzero_pieces": 3.0,
                "lfm_tele_sd_total_pieces": 0.0,
                "matches_played_against_defense": 0,
                "matches_with_data": "5/0",
                "matt_drivetrain": None,
                "matt_notes": None,
                "mechanical_robustness": None,
                "min_expected_cycles": 19,
                "robot_complexity": None,
                "tele_avg_intake_poach": 0.0,
                "tele_avg_total_nonzero_pieces": 3.0,
                "tele_sd_total_pieces": 0.0,
            },
        ]
        self.test_server.local_db.insert_documents("obj_tim", obj_tims)
        with patch(
            "calculations.obj_team.OBJTeamCalc.get_teams_list", return_value=["254", "1678"]
        ), patch("tba_communicator.tba_request", return_value=[]):
            self.test_calc.run()
        result = self.test_server.local_db.find("obj_team")
        assert len(result) == 2
        for document in result:
            del document["_id"]
            if document["team_number"] == "254":
                assert document == expected_results[0]
            else:
                assert document == expected_results[0]
            assert dict_near_in(document, expected_results)
            # Removes the matching expected result to protect against duplicates from the calculation
            expected_results.pop(find_dict_near_index(document, expected_results))
